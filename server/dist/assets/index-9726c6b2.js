import{j as e,a2 as d,l as s,a3 as qt,a4 as Ut,a5 as Y,A as Et,a6 as Nt}from"./@mui/icons-material-9e458299.js";import{a as Ht,r as h,g as Ue,L as Ee,u as Ne,B as Jt,e as Ft,f as W,b as Wt}from"./vendor-d6bf971e.js";import{u as D,a as _,P as Gt}from"./react-redux-c2c6d670.js";import{B as N,D as H,G as u,T as y,a as j,L as Vt,b as Kt,c as Xt,d as Yt,A as Zt,e as Qt,I as re,M as He,f as Je,g as C,h as Le,P as q,i as ae,j as Fe,Z as er,k as tr,l as rr,m as or,n as nr,o as ir,p as ar,S as We,q as sr,r as lr,s as cr,t as dr,u as Ge,v as ur,w as G,x as V,F as pr,y as hr,z as fr,C as gr,E as K,H as Oe,J as mr}from"./@mui/material-abed1223.js";import{c as J,a as vr}from"./@reduxjs/toolkit-40e155d4.js";import{a as S}from"./axios-c0bebe37.js";import"./@emotion/react-af7ee836.js";import{C as Ie,a as xr,L as br,b as yr,p as Cr,c as Sr,d as Pr,e as _r}from"./chart.js-4b369e31.js";import{B as wr}from"./react-chartjs-2-862e281d.js";import{D as O}from"./draft-js-a005ccdf.js";import{d as $r}from"./react-timer-hook-9217b1f8.js";import{_ as kr,G as Rr}from"./react-color-d51b7c37.js";import"./@emotion/styled-7d81f0d6.js";import"./redux-2493d556.js";import"./redux-thunk-ef899f4c.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=o(i);fetch(i.href,l)}})();var oe={},ze=Ht.exports;oe.createRoot=ze.createRoot,oe.hydrateRoot=ze.hydrateRoot;function A({title:t,action:r,buttonType:o}){return e(N,{onClick:r,sx:{background:"#1f2937",transition:"background 0.5s ease-in-out","&:hover":{background:"#1f29372e"}},children:e("span",{style:{position:"relative",zIndex:3},children:t})})}const Ve=J({name:"notifications",initialState:null,reducers:{createNewNotification(t,r){return r.payload},clearNotification(t,r){return null}}}),{createNewNotification:Tr,clearNotification:Ar}=Ve.actions,k=t=>r=>{r(Tr(t))},R=()=>t=>{setTimeout(()=>{t(Ar())},3e3)},Dr=Ve.reducer,Mr="/api/users",jr=async t=>await S.post(`${Mr}`,t),Lr={userSignUp:jr},F="/api/userStats",Or=async t=>(await S.get(`${F}/${t}`)).data,Ir=async({userId:t,username:r})=>await S.post(`${F}/initialize-stats/${t}`,{username:r}),zr=async t=>await S.put(`${F}/check-streak/${t}`),Br=async(t,{title:r,isComplete:o})=>await S.put(`${F}/update-jobs/${t}`,{title:r,isComplete:o}),qr=async(t,{title:r,isComplete:o})=>await S.put(`${F}/update-protos/${t}`,{title:r,isComplete:o}),E={getUserStats:Or,createInitialStats:Ir,checkUserStreak:zr,updateStatsJobsCompleted:Br,updateStatsProtoCompleted:qr};function Ke({open:t,closeSignUp:r,setOpen:o}){const[n,i]=h.exports.useState(""),[l,a]=h.exports.useState(""),[p,c]=h.exports.useState(""),[g,m]=h.exports.useState(""),v=D();return e(H,{open:t,onClose:r,children:s(u,{container:!0,direction:"column",padding:5,gap:2,sx:{background:"linear-gradient(135deg, rgba(31,41,55,0.8), rgba(11, 15, 20, 1) 90%)"},children:[e(y,{variant:"h6",fontWeight:700,children:"Sign up!"}),e(j,{value:n,onChange:f=>i(f.target.value),label:"Username",variant:"standard"}),e(j,{value:l,onChange:f=>a(f.target.value),label:"Email",variant:"standard"}),e(j,{value:p,type:"password",onChange:f=>c(f.target.value),label:"Password",variant:"standard"}),e(j,{value:g,type:"password",onChange:f=>m(f.target.value),label:"Confirm Password",variant:"standard"}),e(A,{title:"SignUp",action:async()=>{if(g!==p){v(k({title:"Passwords must match",severity:"error"})),v(R());return}const f={username:n,email:l,password:p};try{const b=await Lr.userSignUp(f);await E.createInitialStats({userId:b.data.id,username:b.data.username}),i(""),a(""),c(""),m(""),o(!1),v(k({title:"User Created",severity:"success"})),v(R())}catch(b){v(k({title:b.response.data.error,severity:"error"})),v(R())}}})]})})}Ke.propTypes={open:d.exports.bool.isRequired,closeSignUp:d.exports.func.isRequired,setOpen:d.exports.func.isRequired};const Xe=J({name:"userAuth",initialState:null,reducers:{setAuth(t,r){return r.payload}}}),{setAuth:Ur}=Xe.actions,se=t=>r=>{r(Ur(t))},Er=Xe.reducer,Nr="yTDKTZLqkjm7bFoslTryZI_LJewkzyqSRLzW9W_cYH8",Hr="api/login",Jr=async t=>(await S.post(`${Hr}`,t)).data,Fr=async()=>(await S.get(`https://api.unsplash.com/photos/random/?client_id=${Nr}&query=landscape`)).data,Ye={loginUser:Jr,getUnSplashBackGround:Fr};function Wr(){const[t,r]=h.exports.useState(""),[o,n]=h.exports.useState(""),[i,l]=h.exports.useState(!1),a=D();return s(u,{container:!0,height:"100vh",justifyContent:"center",alignItems:"center",direction:"column",gap:2,children:[s(u,{item:!0,children:[e(y,{variant:"h1",children:"Protos"}),e(y,{variant:"h6",children:"All things through consistency!"})]}),s(u,{container:!0,item:!0,direction:"column",gap:2,justifyContent:"center",alignItems:"center",children:[e(j,{value:t,label:"Username",variant:"standard",onChange:m=>r(m.target.value)}),e(j,{value:o,type:"password",label:"Password",variant:"standard",onChange:m=>n(m.target.value)}),s(u,{container:!0,gap:2,item:!0,justifyContent:"center",children:[e(A,{title:"Login",action:async()=>{const m={username:t,password:o};try{const v=await Ye.loginUser(m);await E.checkUserStreak(v.id),window.localStorage.setItem("user",JSON.stringify(v)),a(se(v)),a(k({title:"User Logged in",severity:"success"})),a(R())}catch(v){a(k({title:v.response.data.error,severity:"error"})),a(R())}}}),e(A,{title:"Signup",action:()=>{l(!0)}})]})]}),e(Ke,{open:i,setOpen:l,closeSignUp:()=>{l(!1)}})]})}var le={},P={exports:{}};(function(t){function r(o){return o&&o.__esModule?o:{default:o}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(P);var ee={};const Gr=Ue(qt);var Be;function w(){return Be||(Be=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=Gr}(ee)),ee}const $=Ue(Ut);var Vr=P.exports;Object.defineProperty(le,"__esModule",{value:!0});var Ze=le.default=void 0,Kr=Vr(w()),Xr=$,Yr=(0,Kr.default)((0,Xr.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");Ze=le.default=Yr;var ce={},Zr=P.exports;Object.defineProperty(ce,"__esModule",{value:!0});var Qe=ce.default=void 0,Qr=Zr(w()),eo=$,to=(0,Qr.default)((0,eo.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");Qe=ce.default=to;var de={},ro=P.exports;Object.defineProperty(de,"__esModule",{value:!0});var et=de.default=void 0,oo=ro(w()),no=$,io=(0,oo.default)((0,no.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");et=de.default=io;function te({title:t,nav:r,action:o}){return e(N,{onClick:o,component:Ee,to:r,sx:{background:"#1f29372e",transition:"background 0.5s ease-in-out","&:hover":{background:"#1f2937"}},children:t})}function tt({handleOpenBuild:t}){const[r,o]=h.exports.useState(!1),[n,i]=h.exports.useState(null),l=D(),a=Boolean(n),p=f=>{i(f.currentTarget)},c=()=>{i(null)},g=()=>{window.localStorage.clear(),i(null),l(se(null)),l(k({title:"User Logged out",severity:"success"})),l(R())},m=()=>{o(!r)},v=["Dashboard","Library"].map(f=>e(Vt,{disablePadding:!0,children:s(Kt,{component:Ee,to:`/${f.toLowerCase()}`,children:[e(Xt,{children:e(Ze,{sx:{color:"#fff"}})}),e(Yt,{primary:f})]})},f)),x=200;return s(Y,{children:[e(Zt,{position:"fixed",enableColorOnDark:!0,sx:{height:"56px",backgroundImage:"unset",width:{md:`calc(100% - ${x}px)`}},children:e(Qt,{children:s(u,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e(u,{item:!0,xs:1,children:e(re,{size:"large",edge:"start","aria-label":"menu",onClick:m,sx:{visibility:{md:"hidden"}},children:e(Qe,{sx:{color:"#fff"}})})}),s(u,{item:!0,xs:10,container:!0,gap:1,justifyContent:"center",children:[e(te,{title:"Home",nav:"/"}),e(te,{title:"Active",nav:"/active"}),e(te,{title:"Build",action:t})]}),s(u,{container:!0,item:!0,xs:1,justifyContent:"flex-end",children:[e(re,{size:"medium","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:p,children:e(et,{sx:{color:"#fff"}})}),e(He,{id:"user-menu",anchorEl:n,open:a,onClose:c,children:e(Je,{onClick:g,children:"Logout"})})]})]})})}),s(C,{sx:{width:{md:x},flexShrink:{sm:0}},children:[e(Le,{anchor:"left",open:r,variant:"temporary",onClose:m,sx:{display:{md:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:x,paddingTop:"56px"}},children:e("div",{children:v})}),e(Le,{anchor:"left",open:!0,variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:x,background:"#1f29372e",paddingTop:"56px"}},children:e(C,{children:v})})]})]})}tt.propTypes={handleOpenBuild:d.exports.func.isRequired};function X({stat:t,title:r}){return e(u,{item:!0,xs:12,md:2,sx:{background:"#1f29372e",borderRadius:"5px",padding:2,boxShadow:"0 0 5px 0 #1f2937",transition:"background 0.5s ease-in-out","&:hover":{background:"#1f2937"}},children:s(u,{children:[e(y,{variant:"h3",textAlign:"center",children:t}),e(y,{variant:"body2",textAlign:"center",children:r})]})})}function ao({userStats:t}){const r=t&&t.totalProtosCompleted.reduce((n,i)=>n+i.timesCompleted,0),o=t&&t.totalJobsCompleted.reduce((n,i)=>n+i.timesCompleted,0);return s(u,{item:!0,container:!0,justifyContent:"center",gap:8,children:[e(u,{item:!0,xs:12,sx:{background:"#1f2937",borderRadius:"5px",padding:2,boxShadow:"0 0 5px 0 #1f2937",transition:"background 0.5s ease-in-out","&:hover":{background:"#1f29372e"}},children:s(u,{children:[e(y,{textAlign:"center",variant:"h1",children:t&&t.dayStreak.streak}),e(y,{textAlign:"center",variant:"body2",children:"Day Streak"})]})}),s(u,{item:!0,container:!0,justifyContent:"center",gap:2,children:[e(X,{stat:r,title:"Protos Complete"}),e(X,{stat:o,title:"Jobs Complete"}),e(X,{stat:t&&t.daysWorked,title:"Proto Days"}),e(X,{stat:"0",title:"Proto Time"})]})]})}function qe({dataSet:t,title:r,color:o}){Ie.register(xr,br,yr,Cr,Sr,Pr,_r),Ie.defaults.color="#fff";const n={indexAxis:"x",responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{color:"rgba(255,255,255,0.2)",lineWidth:1}},y:{grid:{color:"rgba(255,255,255,0.2)",lineWidth:1}}},elements:{bar:{borderWidth:2}},plugins:{legend:{position:"top"},title:{display:!0,text:r}}},l={labels:t.map(a=>a.title),datasets:[{label:"Times Completed",data:t.map(a=>a.timesCompleted),backgroundColor:o}]};return e(wr,{options:n,data:l,width:200,height:500,style:{background:"#1f29372e"}})}function so({userStats:t}){return s(u,{container:!0,item:!0,spacing:5,marginTop:2,marginBottom:2,children:[e(u,{item:!0,xs:12,md:6,children:e(q,{sx:{padding:2,transition:"background 0.5s ease-in-out","&:hover":{background:"#1f2937"}},children:e(qe,{dataSet:t?t.totalProtosCompleted:[],title:"Top Protos",color:"rgba(255, 99, 132, 1)"})})}),e(u,{item:!0,xs:12,md:6,children:e(q,{sx:{padding:2,transition:"background 0.5s ease-in-out","&:hover":{background:"#1f2937"}},children:e(qe,{dataSet:t?t.totalJobsCompleted:[],title:"Top Jobs",color:"rgba(53, 162, 235, 1)"})})})]})}function lo(){const[t,r]=h.exports.useState(null),o=_(n=>n.userAuth);return h.exports.useEffect(()=>{(async()=>{const i=await E.getUserStats(o.id);r(i)})()},[]),t&&t.totalProtosCompleted.reduce((n,i)=>n+i.timesCompleted,0),t&&t.totalJobsCompleted.reduce((n,i)=>n+i.timesCompleted,0),s(u,{container:!0,direction:"column",justifyContent:"space-between",spacing:8,paddingTop:2,paddingBottom:2,height:"100%",wrap:"nowrap",children:[e(ao,{userStats:t}),e(so,{userStats:t})]})}const z="/api/activeProtos",co=async t=>(await S.get(`${z}/${t}`)).data,uo=async(t,r)=>{const o={headers:{Authorization:`bearer ${r}`}};return(await S.post(`${z}`,t,o)).data},po=async(t,r)=>{await S.put(`${z}/add-one/${t}`,r)},ho=async(t,r)=>(await S.put(`${z}/add-many/${t}`,r)).data,fo=async(t,{protoId:r,userId:o})=>(await S.post(`${z}/delete-one/${t}`,{protoId:r,userId:o})).data,go=async(t,r)=>(await S.delete(`${z}/delete-many/${t}`,{userId:r})).data,mo=async(t,{protoId:r,isComplete:o})=>(await S.put(`${z}/complete/${t}`,{protoId:r,isComplete:o})).data,vo=async(t,{protoId:r,jobId:o,isComplete:n})=>(await S.put(`${z}/job/complete/${t}`,{protoId:r,jobId:o,isComplete:n})).data,xo=async(t,{protoId:r,jobId:o})=>(await S.put(`${z}/job/delete/${t}`,{protoId:r,jobId:o})).data,I={getActiveProtos:co,createActiveList:uo,addOneToActive:po,deleteOneFromActive:fo,toggleJobComplete:vo,deleteJob:xo,completeProto:mo,addManyToActive:ho,deleteActiveList:go},rt=J({name:"displayedProtos",initialState:[],reducers:{buildList(t,r){return[...t,r.payload]},clearList(t,r){return[]},removeOneProto(t,r){return t.filter(o=>o._id!==r.payload)},updateList(t,r){const o=r.payload;return t.map(n=>n._id===o._id?o:n)}}}),{buildList:bo,removeOneProto:yo,clearList:Co,updateList:So}=rt.actions,Po=t=>r=>{r(bo(t))},ne=t=>r=>{r(yo(t))},ot=()=>t=>{t(Co())},ie=t=>r=>{r(So(t))},_o=rt.reducer;function nt({open:t,handleClose:r}){const[o,n]=h.exports.useState([]),i=_(g=>g.userProtos),l=D(),a=_(g=>g.userAuth),p=Ne();return e(H,{open:t,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:e(ae,{sx:{border:"2px solid black",background:"linear-gradient(135deg, rgba(31,41,55,0.8), rgba(11, 15, 20, 1) 90%)"},children:s(C,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:5,children:[e(y,{variant:"h2",children:"Protos"}),s(u,{container:!0,direction:"column",gap:2,children:[e(u,{item:!0,md:4,children:e(y,{variant:"body2",fontWeight:700,children:"Select a prebuilt template:"})}),e(u,{container:!0,item:!0,md:8,justifyContent:"center",children:e(N,{sx:{width:"100%",border:"1px solid black"},children:"Open Templates"})})]}),s(u,{container:!0,direction:"column",gap:2,children:[e(u,{item:!0,md:4,children:e(y,{variant:"body2",fontWeight:700,children:"Create your day:"})}),e(u,{item:!0,md:8,children:e(Fe,{id:"grouped-demo",value:o,onChange:(g,m)=>{n(m)},multiple:!0,options:i,getOptionLabel:g=>g.title,renderInput:g=>e(j,{...g,label:"Protos"})})})]}),s(C,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:10,children:[e(A,{title:"Create",action:async()=>{if(o.length===0){l(k({title:"Please select a Proto",severity:"error"})),l(R());return}try{const g={selectedProtos:o,user:a.id};await I.createActiveList(g),l(ot()),l(k({title:"New active list created",severity:"success"})),l(R()),r(),p("/active")}catch{}}}),e(A,{title:"Cancel",action:r,buttonType:"secondary"})]})]})})})}nt.propTypes={open:d.exports.bool.isRequired,handleClose:d.exports.func.isRequired};function wo({title:t}){return e(N,{variant:"contained",color:"primary",sx:{border:"2px solid #010100",borderRadius:"5px",padding:"15px",color:"#ffffff",textTransform:"uppercase",letterSpacing:"2px",position:"relative",display:"inline-block",cursor:"pointer",fontSize:"0.9rem",background:"#1f2937",transition:"background 0.5s ease-in-out","&:hover":{color:"#fff",background:"#1f29372e"}},children:e("span",{style:{position:"relative",zIndex:5},children:t})})}function $o({title:t,severity:r}){return e(er,{direction:"left",in:!0,sx:{position:"absolute",bottom:100,right:16},children:e(tr,{severity:r,variant:"filled",children:t})})}function ko(){const[t,r]=h.exports.useState(!1);return s(u,{container:!0,justifyContent:"center",alignItems:"center",flexGrow:1,gap:5,height:"100%",direction:{xs:"column",md:"row"},children:[e(u,{item:!0,onClick:()=>{r(!0)},children:e(wo,{title:"Create Today"})}),e(nt,{open:t,handleClose:()=>{r(!1)}})]})}var ue={},Ro=P.exports;Object.defineProperty(ue,"__esModule",{value:!0});var it=ue.default=void 0,To=Ro(w()),Ao=$,Do=(0,To.default)((0,Ao.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");it=ue.default=Do;var pe={},Mo=P.exports;Object.defineProperty(pe,"__esModule",{value:!0});var at=pe.default=void 0,jo=Mo(w()),Lo=$,Oo=(0,jo.default)((0,Lo.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");at=pe.default=Oo;var he={},Io=P.exports;Object.defineProperty(he,"__esModule",{value:!0});var st=he.default=void 0,zo=Io(w()),Bo=$,qo=(0,zo.default)((0,Bo.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");st=he.default=qo;function fe({protoDescription:t}){const[r,o]=h.exports.useState(null),n=m=>{o(m.currentTarget)},i=()=>{o(null)},l=Boolean(r),a=l?"simple-popover":void 0,p=O.EditorState.createWithContent(O.convertFromRaw(JSON.parse(t)));function c(m){switch(m.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}}const g={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};return s("div",{style:{display:"flex",justifyContent:"center"},children:[e(st,{"aria-describedby":a,onClick:n,fontSize:"small"}),e(rr,{id:a,open:l,anchorEl:r,onClose:i,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{horizontal:"center",vertical:"bottom"},PaperProps:{sx:{width:{xs:"325px",md:"600px",background:"#1f2937"}}},scroll:"paper",children:e("div",{style:{padding:"10px"},children:e(O.Editor,{editorState:p,readOnly:!0,blockStyleFn:c,customStyleMap:g})})})]})}fe.defaultProps={protoDescription:null};fe.propTypes={protoDescription:d.exports.string};const lt=J({name:"activeProtos",initialState:null,reducers:{setNewActiveProtos(t,r){return r.payload},addOne(t,r){const o=t;return o.activeProtos.push(r.payload),o}}}),{setNewActiveProtos:Uo,addOne:Eo}=lt.actions,U=t=>r=>{r(Uo(t))},No=t=>r=>{r(Eo(t))},Ho=lt.reducer;function ge({protoTitle:t,protoDescription:r,protoId:o,isComplete:n}){const[i,l]=h.exports.useState(null),a=D(),p=_(b=>b.activeProtos),c=_(b=>b.userAuth),g=Boolean(i),m=b=>{l(b.currentTarget)},v=()=>{l(null)},x=async()=>{const b=await I.deleteOneFromActive(p._id,{protoId:o,userId:c.id});a(U(b)),a(ne(o)),a(k({title:"Proto removed from active list",severity:"success"})),a(R())},f=async()=>{try{const T=(await I.completeProto(p._id,{protoId:o,isComplete:n})).find(Q=>Q._id===o);a(ie(T));const B=await E.updateStatsProtoCompleted(c.id,{title:t,isComplete:n});a(ne(o))}catch(b){console.log("In complete proto",b)}};return console.log(n),s(q,{sx:{padding:"16px"},children:[s(u,{container:!0,children:[e(u,{item:!0,xs:10,children:e(y,{variant:"h4",fontWeight:700,children:t})}),s(u,{container:!0,item:!0,xs:2,direction:"column",justifyContent:"center",children:[e(re,{size:"medium","aria-label":"proto options","aria-controls":"options menu","aria-haspopup":"true",color:"inherit",onClick:m,sx:{padding:0},children:e(at,{})}),e(fe,{protoDescription:r}),e(He,{id:"user-menu",anchorEl:i,open:g,onClose:v,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:e(Je,{onClick:x,children:"Delete"})})]})]}),e(C,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:2},children:n&&e(A,{title:"Complete",action:f})})]})}ge.defaultProps={protoDescription:null};ge.propTypes={protoTitle:d.exports.string.isRequired,protoDescription:d.exports.string,protoId:d.exports.string.isRequired,isComplete:d.exports.bool.isRequired};var me={},Jo=P.exports;Object.defineProperty(me,"__esModule",{value:!0});var ct=me.default=void 0,Fo=Jo(w()),Wo=$,Go=(0,Fo.default)((0,Wo.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");ct=me.default=Go;var ve={},Vo=P.exports;Object.defineProperty(ve,"__esModule",{value:!0});var dt=ve.default=void 0,Ko=Vo(w()),Xo=$,Yo=(0,Ko.default)((0,Xo.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");dt=ve.default=Yo;function Zo({totalJobCount:t,totalJobsComplete:r}){return s(Y,{children:[e(or,{variant:"progress",steps:t===0?0:t+1,activeStep:r,position:"static",sx:{width:"100%",flexGrow:1}}),r===t&&t!==0?e(ct,{fontSize:"large",sx:{color:"rgba(121,207,233,1)"}}):e(dt,{fontSize:"large"})]})}var xe={},Qo=P.exports;Object.defineProperty(xe,"__esModule",{value:!0});var ut=xe.default=void 0,en=Qo(w()),tn=$,rn=(0,en.default)((0,tn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle");ut=xe.default=rn;var be={},on=P.exports;Object.defineProperty(be,"__esModule",{value:!0});var pt=be.default=void 0,nn=on(w()),an=$,sn=(0,nn.default)((0,an.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 14H8V8h8v8z"}),"StopCircle");pt=be.default=sn;function ye({expiryTimestamp:t,timerState:r}){const{seconds:o,minutes:n,pause:i,resume:l}=$r.exports.useTimer({expiryTimestamp:t,onExpire:()=>console.warn("onExpire called"),autoStart:!1});return h.exports.useEffect(()=>{r?l():r||i()},[r]),e("div",{style:{textAlign:"center"},children:s("div",{style:{fontWeight:"500"},children:[n<10?s("span",{children:["0",n]}):e("span",{children:n}),":",o<10?s("span",{children:["0",o]}):e("span",{children:o})]})})}function Z({timerState:t,jobTimer:r}){const o=new Date;return o.setSeconds(o.getSeconds()+r*60),e("div",{style:{zIndex:2},children:e(ye,{expiryTimestamp:o,timerState:t})})}ye.defaultProps={timerState:void 0};ye.propTypes={expiryTimestamp:d.exports.objectOf(d.exports.string).isRequired,timerState:d.exports.bool};Z.defaultProps={timerState:void 0,jobTimer:0};Z.propTypes={timerState:d.exports.bool,jobTimer:d.exports.number};function ht({job:t,listId:r,protoId:o,userId:n}){const[i,l]=h.exports.useState(!1),[a,p]=h.exports.useState(t.isComplete),c=D(),g=()=>{l(!i)},m=async()=>{try{p(!a);const f=await I.toggleJobComplete(r,{protoId:o,jobId:t._id,isComplete:!a}),b=f.activeProtos.find(B=>B._id===o);c(ie(b)),c(U(f));const T=await E.updateStatsJobsCompleted(n,{title:t.title,isComplete:!a})}catch(f){console.log("In toggleJobComplete",f)}},v=async()=>{try{const f=await I.deleteJob(r,{protoId:o,jobId:t._id}),b=f.activeProtos.find(T=>T._id===o);c(ie(b)),c(U(f))}catch(f){console.log("In deleteJob",f)}},x=`
    rgba(${t.cardColor.r},
    ${t.cardColor.g},
    ${t.cardColor.b},
    ${t.cardColor.a})`;return e(q,{sx:{borderRadius:"5px"},children:s(C,{sx:{padding:1,borderRadius:"5px",cursor:"pointer",opacity:a?.4:null,position:"relative",overflow:"hidden","&:hover":{"& .jobBackGround":{transform:"scale(3)"}}},children:[e("div",{className:"jobBackGround",style:{height:"258px",width:"320px",background:`linear-gradient(135deg, ${x}, transparent 90%)`,zIndex:"1",position:"absolute",top:"-75px",left:"-75px",borderRadius:"0 0 75% 0",transition:"all 1s ease-in-out"}}),s(u,{container:!0,height:"100%",alignItems:"center",children:[s(u,{item:!0,xs:10,zIndex:1,children:[e(u,{item:!0,children:e(y,{fontWeight:700,sx:{textDecoration:a?"line-through 2px black":null},children:t.title})}),s(u,{container:!0,item:!0,direction:"row",maxWidth:"90%",justifyContent:"space-evenly",marginTop:1,children:[e(y,{variant:"caption",sx:{"&:hover":{color:"red"}},onClick:v,children:"Delete"}),e(y,{variant:"caption",children:"Reset"}),a?e(y,{variant:"caption",onClick:m,sx:{"&:hover":{color:"red"}},children:"Incomplete"}):e(y,{variant:"caption",onClick:m,sx:{"&:hover":{color:"green"}},children:"Complete"})]})]}),s(u,{container:!0,item:!0,justifyContent:"flex-end",xs:2,gap:1,zIndex:1,children:[i?e(pt,{fontSize:"medium",onClick:g,sx:{color:"red"}}):e(ut,{fontSize:"medium",onClick:g}),e(Z,{jobTimer:t.timer,timerState:i})]})]})]})})}ht.propTypes={job:d.exports.shape({_id:d.exports.string,title:d.exports.string,description:d.exports.string,isComplete:d.exports.bool,isHidden:d.exports.bool,timer:d.exports.number}).isRequired,listId:d.exports.string.isRequired,protoId:d.exports.string.isRequired};function ft({proto:t}){const r=_(c=>c.activeProtos),o=t.jobs.length,n=t.jobs.filter(c=>c.isComplete),[i,l]=h.exports.useState(n.length===o),a=_(c=>c.userAuth);h.exports.useEffect(()=>{l(n.length===o)},[n.length]);const p=t.jobs.map(c=>e(ht,{job:c,listId:r._id,protoId:t._id,userId:a.id},c._id));return s(C,{display:"flex",flexDirection:"column",gap:.5,sx:{width:{xs:"calc(100vw - 32px)",sm:"360px"}},children:[e(ge,{protoTitle:t.title,protoDescription:t.description,protoId:t._id,listId:r._id,isComplete:i}),s(nr,{disableGutters:!0,children:[s(ir,{expandIcon:e(it,{}),"aria-controls":"The How",id:"proto-how",children:[s(y,{margin:"auto",variant:"caption",fontWeight:700,children:[n.length,"/",o]}),e(Zo,{totalJobCount:o,totalJobsComplete:n.length})]}),e(ar,{sx:{overflowY:"auto",scrollbarWidth:"thin"},children:e(We,{spacing:1,sx:{maxHeight:"55vh"},children:p})})]})]},t._id)}ft.propTypes={proto:d.exports.shape({_id:d.exports.string.isRequired,user:d.exports.string.isRequired,title:d.exports.string.isRequired,description:d.exports.string,timeOfDay:d.exports.string,isComplete:d.exports.bool.isRequired,jobs:d.exports.oneOfType([d.exports.array])}).isRequired};var Ce={},ln=P.exports;Object.defineProperty(Ce,"__esModule",{value:!0});var gt=Ce.default=void 0,cn=ln(w()),dn=$,un=(0,cn.default)((0,dn.jsx)("path",{d:"M10 8H8v4H4v2h4v4h2v-4h4v-2h-4zm4.5-1.92V7.9l2.5-.5V18h2V5z"}),"PlusOne");gt=Ce.default=un;var Se={},pn=P.exports;Object.defineProperty(Se,"__esModule",{value:!0});var mt=Se.default=void 0,hn=pn(w()),fn=$,gn=(0,hn.default)((0,fn.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");mt=Se.default=gn;function vt({open:t,handleClose:r}){const o=_(a=>a.activeProtos),n=D(),i=Ne();return e(H,{open:t,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:s(ae,{sx:{background:"linear-gradient(135deg, rgba(31,41,55,0.8), rgba(11, 15, 20, 1) 90%)"},children:[e(y,{children:"This will clear all active Protos. Are you sure?"}),s(C,{display:"flex",justifyContent:"center",alignItems:"center",gap:5,marginTop:2,children:[e(A,{title:"Clear List",action:async()=>{try{const a=await I.deleteActiveList(o._id,o.user);n(ot()),n(U(a)),n(k({title:"Active list cleared",severity:"success"})),n(R()),i("/")}catch{n(k({title:"Active list is already cleared",severity:"error"})),n(R())}}}),e(A,{title:"Cancel",action:r})]})]})})}vt.propTypes={open:d.exports.bool.isRequired,handleClose:d.exports.func.isRequired};function xt({open:t,handleClose:r}){const[o,n]=h.exports.useState([]),i=_(c=>c.userProtos),l=_(c=>c.activeProtos),a=D();return e(H,{open:t,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:e(ae,{sx:{background:"linear-gradient(135deg, rgba(31,41,55,0.8), rgba(11, 15, 20, 1) 90%)"},children:s(C,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,children:[e(y,{children:"Add a proto to the your active list"}),e(Fe,{id:"grouped-demo",sx:{minWidth:{xs:300,md:500},padding:5},value:o,onChange:(c,g)=>{n(g)},multiple:!0,options:i,getOptionLabel:c=>c.title,renderInput:c=>e(j,{...c,label:"Protos"})}),e(A,{title:"Add",action:async()=>{if(!l){a(k({title:"No list currently active, please create one",severity:"error"})),a(R());return}try{const c=await I.addManyToActive(l._id,o);a(U(c)),a(k({title:"Proto added to active list",severity:"success"})),a(R())}catch(c){console.log("In add many to list",c)}}})]})})})}xt.propTypes={open:d.exports.bool.isRequired,handleClose:d.exports.func.isRequired};function mn(){const[t,r]=h.exports.useState(!1),[o,n]=h.exports.useState(!1),i=()=>{r(!0)},l=()=>{console.log("clear"),n(!0)},a=()=>{r(!1),n(!1)};return s(Y,{children:[e(sr,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:16,right:16},icon:e(lr,{}),children:[{icon:e(mt,{fontSize:"large",sx:{color:"#fff"}}),name:"Clear List",action:l},{icon:e(gt,{fontSize:"large",sx:{color:"#fff"}}),name:"Add Proto",action:i}].map(c=>e(cr,{icon:c.icon,tooltipTitle:c.name,onClick:c.action},c.name))}),e(xt,{open:t,handleClose:a}),e(vt,{open:o,handleClose:a})]})}function vn({title:t,action:r}){const[o,n]=h.exports.useState(!1),i=()=>{n(!o)};return e(C,{display:"flex",justifyContent:"center",onClick:()=>{r(),i()},sx:{marginLeft:1,marginRight:1,width:"100%",background:o?"#1f2937":"#1f2937a1",borderRadius:"5px",padding:"5px","&:hover":{background:"#1f2937"}},children:e(y,{variant:"overline",children:t})})}function xn(){const t=_(p=>p.activeProtos),r=_(p=>p.userAuth),o=_(p=>p.displayedProtos),n=D();h.exports.useEffect(()=>{(async()=>{try{const c=await I.getActiveProtos(r.id);c&&n(U(c))}catch(c){console.log(c)}})()},[]);const i=(p,c)=>{const g=o.find(m=>m._id===c._id);n(g?ne(c._id):Po(c))},l=t?t.activeProtos.map(p=>e(vn,{title:p.title,action:()=>i(event,p)},p._id)):null,a=o?o.map(p=>e(dr,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:e(u,{item:!0,children:e(ft,{proto:p})})},p._id)):null;return s(u,{container:!0,direction:"row",height:"calc(100% - 32px)",justifyContent:"center",children:[e(u,{item:!0,xs:12,children:e(Ge,{value:!1,variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginTop:1,marginBottom:1},children:l})}),o.length>0?e(u,{item:!0,xs:12,height:"inherit",sx:{overflowX:"auto"},children:e(C,{display:"flex",direction:"row",wrap:"nowrap",height:"100%",sx:{overflowX:"scroll"},spacing:1,gap:2,padding:1,children:a})}):e(y,{variant:"h6",children:`Hello ${r.username}, let's get to work.`}),e(mn,{})]})}var Pe={},bn=P.exports;Object.defineProperty(Pe,"__esModule",{value:!0});var bt=Pe.default=void 0,yn=bn(w()),Cn=$,Sn=(0,yn.default)((0,Cn.jsx)("path",{d:"m16.9542 8.6615 2.1205-2.122 1.4147 1.4137-2.1205 2.122zM2 18h20v2H2zm9-14h2v3h-2zM3.5426 7.9248l1.4142-1.4142L7.078 8.632l-1.4142 1.4142zM5 16h14c0-3.87-3.13-7-7-7s-7 3.13-7 7z"}),"WbTwilight");bt=Pe.default=Sn;var _e={},Pn=P.exports;Object.defineProperty(_e,"__esModule",{value:!0});var yt=_e.default=void 0,_n=Pn(w()),wn=$,$n=(0,_n.default)((0,wn.jsx)("path",{d:"m6.76 4.84-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7 1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91 1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}),"WbSunny");yt=_e.default=$n;var we={},kn=P.exports;Object.defineProperty(we,"__esModule",{value:!0});var Ct=we.default=void 0,Rn=kn(w()),Tn=$,An=(0,Rn.default)((0,Tn.jsx)("path",{d:"M14 2c1.82 0 3.53.5 5 1.35-2.99 1.73-5 4.95-5 8.65s2.01 6.92 5 8.65c-1.47.85-3.18 1.35-5 1.35-5.52 0-10-4.48-10-10S8.48 2 14 2z"}),"Nightlight");Ct=we.default=An;var $e={},Dn=P.exports;Object.defineProperty($e,"__esModule",{value:!0});var St=$e.default=void 0,Mn=Dn(w()),jn=$,Ln=(0,Mn.default)((0,jn.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm6 10c0 3.31-2.69 6-6 6s-6-2.69-6-6h2c0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4v3L8 7l4-4v3c3.31 0 6 2.69 6 6z"}),"ReplayCircleFilled");St=$e.default=Ln;function On({editorState:t,setEditorState:r}){const o=p=>{r(O.RichUtils.toggleBlockType(t,p))},n=p=>{r(O.RichUtils.toggleInlineStyle(t,p))},i=h.exports.useRef(null);function l(){i.current.focus()}const a="RichEditor-editor";return s("div",{className:"RichEditor-root",style:{marginTop:"20px"},children:[s("div",{style:{borderBottom:"1px solid #999",marginBottom:"5px"},children:[e(qn,{editorState:t,onToggle:o}),e(En,{editorState:t,onToggle:n})]}),e("div",{onClick:l,style:{padding:"0 10px",minHeight:"100px",cursor:"text"},children:e(O.Editor,{ref:i,className:a,editorState:t,onChange:r,placeholder:"Proto Description...",blockStyleFn:In,customStyleMap:zn})})]})}function In(t){switch(t.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}}const zn={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}},Bn=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}];function qn(t){const{editorState:r}=t,o=r.getSelection(),n=r.getCurrentContent().getBlockForKey(o.getStartKey()).getType();return e("div",{className:"RichEditor-controls",children:Bn.map(i=>e(Pt,{active:i.style===n,label:i.label,onToggle:t.onToggle,style:i.style},i.label))})}function Pt(t){const r=n=>{n.preventDefault(),t.onToggle(t.style)};let o="RichEditor-styleButton";return t.active&&(o+=" RichEditor-activeButton"),e("span",{className:o,onMouseDown:r,children:t.label})}const Un=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}];function En(t){const r=t.editorState.getCurrentInlineStyle();return e("div",{className:"RichEditor-controls",style:{marginBottom:10},children:Un.map(o=>e(Pt,{active:r.has(o.style),label:o.label,onToggle:t.onToggle,style:o.style},o.label))})}function ke({setProtoTitle:t,protoTitle:r,handleTimeOfDay:o,protoTimeOfDay:n,editorState:i,setEditorState:l}){return s(C,{sx:{textAlign:"center"},children:[s(C,{children:[e(j,{id:"proto-title",label:"Proto Title...",value:r,onChange:a=>t(a.target.value),fullWidth:!0}),e(On,{editorState:i,setEditorState:l})]}),s(ur,{value:n,exclusive:!0,onChange:o,"aria-label":"text alignment",size:"small",sx:{marginTop:2,marginBottom:2},children:[e(G,{value:0,"aria-label":"morning",children:e(V,{title:"Morning",placement:"top-end",children:e(bt,{sx:{color:"#ffd600"}})})}),e(G,{value:1,"aria-label":"afternoon",children:e(V,{title:"Afternoon",placement:"top-end",children:e(yt,{sx:{color:"orange"}})})}),e(G,{value:2,"aria-label":"evening",children:e(V,{title:"Evening",placement:"top-end",children:e(Ct,{sx:{color:"darkblue"}})})}),e(G,{value:3,"aria-label":"continuous",children:e(V,{title:"Continuous",placement:"top-end",children:e(St,{sx:{color:"green"}})})})]})]})}ke.defaultProps={protoTimeOfDay:""};ke.propTypes={setProtoTitle:d.exports.func.isRequired,protoTitle:d.exports.string.isRequired,handleTimeOfDay:d.exports.func.isRequired,protoTimeOfDay:d.exports.string,setEditorState:d.exports.func.isRequired};var Re={},Nn=P.exports;Object.defineProperty(Re,"__esModule",{value:!0});var _t=Re.default=void 0,Hn=Nn(w()),Jn=$,Fn=(0,Hn.default)((0,Jn.jsx)("path",{d:"m17.66 5.41.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19 5 17.08l8.06-8.06 1.92 1.92L6.92 19z"}),"ColorizeOutlined");_t=Re.default=Fn;function wt({displayColorPicker:t,changeColor:r,color:o}){const n=kr({default:{popover:{position:"absolute",zIndex:"2",bottom:10,left:-220},box:{position:"relative"}}});return e("div",{children:t&&e("div",{style:n.box,children:e("div",{style:n.popover,children:e(Rr,{width:"220px",triangle:"hide",color:o,onChangeComplete:r})})})})}wt.propTypes={displayColorPicker:d.exports.bool.isRequired,changeColor:d.exports.func.isRequired};function $t({setNewProtoJobs:t,cardColor:r,setColor:o}){const[n,i]=h.exports.useState(""),[l,a]=h.exports.useState(""),[p,c]=h.exports.useState(0),[g,m]=h.exports.useState(!1),v=()=>{m(!g)},x=(T,B)=>{o(T.rgb)},f=()=>{i(""),a(""),c(""),m(!1),o("transparent")},b=()=>{const T={title:n,description:l,timer:p,cardColor:r,isComplete:!1,isHidden:!1};t(B=>[...B,T]),f()};return e(q,{sx:{display:"flex",gap:2,padding:2,background:`linear-gradient(135deg, rgba(${r.r}, ${r.g}, ${r.b}, ${r.a}), transparent 80%)`,marginTop:5,border:"1px solid black"},children:s(u,{container:!0,spacing:2,children:[e(u,{item:!0,xs:12,md:10,children:e(j,{id:"standard-basic",label:"Job Title",value:n,fullWidth:!0,onChange:T=>i(T.target.value)})}),e(u,{item:!0,xs:12,md:2,alignSelf:"flex-end",children:e(j,{type:"number",id:"standard-basic",label:"Time",value:p,onChange:T=>c(+T.target.value),sx:{maxWidth:{xs:80}}})}),e(u,{item:!0,xs:10,children:s(C,{display:"flex",gap:2,children:[e(A,{title:"Add",action:b}),e(A,{title:"Clear",action:f,buttonType:"secondary"})]})}),e(u,{item:!0,xs:2,children:s(C,{display:"flex",justifyContent:"flex-end",children:[e(_t,{onClick:v,sx:{fontSize:"30px"}}),e(wt,{displayColorPicker:g,changeColor:x,color:r})]})})]})})}$t.propTypes={setNewProtoJobs:d.exports.func.isRequired,setColor:d.exports.func.isRequired};function kt({job:t,deleteJob:r}){const o=`rgba(
    ${t.cardColor.r}, 
    ${t.cardColor.g}, 
    ${t.cardColor.b}, 
    ${t.cardColor.a}
    )`;return e(q,{children:s(C,{sx:{background:"rgba(76, 98, 126, 0.2)",padding:1,borderRadius:"5px",cursor:"pointer",position:"relative",overflow:"hidden","&:hover":{"& .displayJobBackGround":{transform:"scale(0.8)"}}},children:[e("div",{className:"displayJobBackGround",style:{height:"258px",width:"280px",background:`linear-gradient(135deg, ${o}, transparent 90%)`,zIndex:"1",position:"absolute",top:"-75px",left:"-75px",borderRadius:"0 0 75% 0",transition:"all 1s ease-in-out"}}),s(u,{container:!0,children:[s(u,{container:!0,item:!0,xs:8,sm:10,direction:"column",gap:2,children:[e(C,{children:e(y,{sx:{fontWeight:"bold"},children:t.title})}),e(C,{display:"flex",gap:2,paddingLeft:2})]}),e(u,{item:!0,xs:4,sm:1,container:!0,justifyContent:"flex-end",alignContent:"flex-end",children:s(C,{display:"flex",flexDirection:"column",gap:1,alignItems:"flex-end",children:[e(y,{variant:"caption",fontWeight:500,sx:{color:"red",cursor:"pointer"},onClick:()=>r(t.title),children:"Remove"}),e(Z,{jobTimer:t.timer})]})})]})]})})}kt.propTypes={job:d.exports.shape({_id:d.exports.string,title:d.exports.string,description:d.exports.string,isComplete:d.exports.bool,isHidden:d.exports.bool,timer:d.exports.number}).isRequired,deleteJob:d.exports.func.isRequired};const Te="/api/protos",Wn=async t=>(await S.get(`${Te}/${t}`)).data,Gn=async(t,r)=>{const o={headers:{Authorization:`bearer ${r}`}};return(await S.post(`${Te}`,t,o)).data},Vn=async({user:t,proto:r})=>await S.put(`${Te}/${t}`,{proto:r}),Ae={getUserProtos:Wn,createNewProto:Gn,deleteUserProto:Vn},Rt=J({name:"userProtos",initialState:[],reducers:{setAllProtos(t,r){return r.payload},addFromBuild(t,r){return[...t,r.payload]},deleteUserProto(t,r){const o=r.payload;return t.filter(n=>n._id!==o)}}}),{setAllProtos:Kn,addFromBuild:Xn,deleteUserProto:Yn}=Rt.actions,Zn=t=>r=>{r(Kn(t))},Qn=t=>r=>{r(Xn(t))},ei=t=>r=>{r(Yn(t))},ti=Rt.reducer;function De({open:t,handleCloseBuild:r}){const[o,n]=h.exports.useState(""),[i,l]=h.exports.useState(""),[a,p]=h.exports.useState(""),[c,g]=h.exports.useState([]),[m,v]=h.exports.useState(!1),x=D(),f=_(M=>M.userAuth),b=_(M=>M.activeProtos),[T,B]=h.exports.useState(()=>O.EditorState.createEmpty()),Q=JSON.stringify(O.convertToRaw(T.getCurrentContent())),[Mt,jt]=h.exports.useState({r:"76",g:"98",b:"126",a:"1"}),Lt=(M,L)=>{p(L)},Ot=()=>{v(!m)},It=M=>{const L=c.filter(Bt=>Bt.title!==M);g(L)},zt=c.map(M=>e(kt,{job:M,deleteJob:It},M.title));return e(H,{open:t||!1,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:e(u,{container:!0,sx:{padding:2,background:"linear-gradient(135deg, rgba(31,41,55,0.8), rgba(11, 15, 20, 1) 90%)"},children:s(u,{item:!0,xs:12,children:[e(ke,{setProtoTitle:n,setProtoDescription:l,protoTitle:o,protoDescription:i,handleTimeOfDay:Lt,protoTimeOfDay:a,editorState:T,setEditorState:B}),e(We,{spacing:1,sx:{marginTop:5},children:zt}),e($t,{setNewProtoJobs:g,cardColor:Mt,setColor:jt}),b&&e(pr,{sx:{marginTop:2},children:e(hr,{control:e(fr,{checked:m,onClick:Ot}),label:"Add Proto to active list"})}),e(C,{display:"flex",justifyContent:"center",marginTop:2,children:e(A,{title:"Create Proto",action:async()=>{if(!o){x(k({title:"Proto Title required",severity:"error"})),x(R());return}const M={title:o,description:Q,timeOfDay:a,jobs:c};try{const L=await Ae.createNewProto(M,f.token);x(Qn(L)),n(""),l(""),p(""),g([]),B(()=>O.EditorState.createEmpty()),L&&m&&(await I.addOneToActive(b._id,L),x(No(L))),x(k({title:m?"New Proto added to active list":"New Proto created",severity:"success"})),x(R())}catch{x(k({title:"Failed. Do you already have a Proto by this name?",severity:"error"})),x(R())}}})})]})})})}De.defaultProps={open:void 0};De.propTypes={open:d.exports.bool,handleCloseBuild:d.exports.func.isRequired};var Me={},ri=P.exports;Object.defineProperty(Me,"__esModule",{value:!0});var Tt=Me.default=void 0,oi=ri(w()),ni=$,ii=(0,oi.default)((0,ni.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment");Tt=Me.default=ii;var je={},ai=P.exports;Object.defineProperty(je,"__esModule",{value:!0});var At=je.default=void 0,si=ai(w()),li=$,ci=(0,si.default)((0,li.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm3.3 14.71L11 12.41V7h2v4.59l3.71 3.71-1.42 1.41z"}),"AccessTimeFilled");At=je.default=ci;function Dt({proto:t,deleteProto:r}){return e(q,{style:{width:"360px",height:"100px",background:"rgba(0,0,0,0.5)"},children:s(u,{container:!0,height:"100%",justifyContent:"space-between",children:[e(u,{item:!0,xs:12,alignSelf:"center",marginLeft:2,children:e(y,{variant:"h5",fontWeight:700,children:t.title})}),s(u,{container:!0,item:!0,xs:12,alignSelf:"center",justifyContent:"space-between",marginLeft:2,marginRight:2,children:[s(u,{item:!0,children:[e(Tt,{sx:{marginRight:"16px"}}),e(At,{})]}),s(u,{item:!0,children:[e(y,{variant:"caption",fontWeight:500,sx:{"&:hover":{color:"red"},cursor:"pointer"},children:"View"}),e(y,{variant:"caption",fontWeight:500,onClick:()=>r(t.title,t._id),sx:{"&:hover":{color:"red"},cursor:"pointer",marginLeft:5},children:"Delete"})]})]})]})})}Dt.propTypes={title:d.exports.string.isRequired};function di(){const[t,r]=h.exports.useState(0),[o,n]=h.exports.useState(null),i=_(v=>v.userProtos),l=gr("(min-width:568px)"),a=_(v=>v.userAuth),p=D(),c=async(v,x)=>{try{await Ae.deleteUserProto({user:a.id,proto:v}),p(ei(x))}catch(f){console.log("In library delete",f)}},g=(v,x)=>{r(x)},m=i?i.map(v=>{if(+v.timeOfDay===o)return e(Dt,{proto:v,deleteProto:c},v._id)}):null;return s(u,{container:!0,marginTop:2,children:[e(u,{item:!0,xs:12,md:"auto",marginRight:{xs:0,md:2},marginBottom:2,children:s(Ge,{orientation:l?"vertical":"horizontal",variant:"scrollable",value:t,onChange:g,"aria-label":"Proto Catagory Selection",sx:{borderRight:1,borderColor:"divider"},children:[e(K,{label:"Morning",onClick:()=>n(0),sx:{color:"#fff"}}),e(K,{label:"Afternoon",onClick:()=>n(1),sx:{color:"#fff"}}),e(K,{label:"Evening",onClick:()=>n(2),sx:{color:"#fff"}}),e(K,{label:"All day",onClick:()=>n(3),sx:{color:"#fff"}})]})}),e(u,{container:!0,md:!0,item:!0,gap:2,alignContent:"flex-start",justifyContent:{xs:"center",md:"flex-start"},children:m})]})}function ui({unSplashSource:t,resetBackground:r}){return s(C,{display:"flex",gap:1,sx:{position:"absolute",bottom:16,right:100},children:[e(A,{title:"Reset BG",action:r}),e(N,{children:e("a",{href:`${t}`,target:"none",style:{color:"#fff",textDecoration:"none"},children:"Image Source"})})]})}function pi(){const t=D(),r=_(x=>x.userAuth),o=_(x=>x.notifications),[n,i]=h.exports.useState(),[l,a]=h.exports.useState("https://images.unsplash.com/photo-1501884428012-aa321a256730?ixid=Mnw0MTg3ODB8MHwxfHJhbmRvbXx8fHx8fHx8fDE2NzgyMDc2MDU&ixlib=rb-4.0.3&dpr=2&w=1900"),[p,c]=h.exports.useState("https://unsplash.com/photos/SXTj90G1f5c"),g=()=>{i(!n)},m=()=>{i(!1)};h.exports.useEffect(()=>{(async()=>{try{if(r){const f=await Ae.getUserProtos(r.id);await E.checkUserStreak(r.id),t(Zn(f))}}catch(f){console.log("In App, get user protos",f)}})()},[r]),h.exports.useEffect(()=>{t(se(JSON.parse(window.localStorage.getItem("user")||null)))},[]);const v=async()=>{const x=await Ye.getUnSplashBackGround(),f=x.urls.raw,b=x.links.html;a(`${f}&dpr=2&w=1900`),c(b)};return e(Jt,{children:s(C,{sx:{display:"flex",background:`center center no-repeat fixed url(${l})`},children:[e(ui,{unSplashSource:p,resetBackground:v}),o&&e($o,{title:o.title,severity:o.severity}),r?s(Y,{children:[e(Oe,{}),e(tt,{handleOpenBuild:g}),e(De,{open:n,handleCloseBuild:m}),e(mr,{maxWidth:"false",sx:{height:"100vh",overflowX:"hidden"},children:s(Ft,{children:[e(W,{path:"/",element:e(ko,{user:r})}),e(W,{path:"/active",element:e(xn,{})}),e(W,{path:"/Dashboard",element:e(lo,{})}),e(W,{path:"/Library",element:e(di,{})})]})})]}):e(Oe,{children:e(Wr,{})})]})})}const hi=vr({reducer:{userProtos:ti,activeProtos:Ho,userAuth:Er,displayedProtos:_o,notifications:Dr}}),fi=t=>({palette:{mode:t,primary:{main:"rgba(0,0,0,0.8)"},background:{...t==="light"?{default:"rgb(0,0,0,1)",paper:"#1f2937a1"}:{default:"rgba(18,18,18,1)",paper:"rgba(255,255,255,0.1)"}},text:{primary:"rgba(255,255,255,1)"}},typography:{caption:{position:"relative",display:"inline-block",cursor:"pointer",transition:"all 0.5s ease-in-out","&::before":{content:'""',position:"absolute",left:"0px",bottom:"0px",width:"0%",height:"5%",borderBottom:"2px solid #000",transition:"all 0.3s ease-in-out"},"&:hover::before":{width:"100%"}}},components:{MuiContainer:{styleOverrides:{root:{padding:"56px 8px 0 8px","@media (min-width: 600px)":{padding:"56px 10px 0 10px"}}}},MuiTextField:{styleOverrides:{root:{background:"#cad4e1a1",color:"#e5f1f3","& label.Mui-focused":{color:"#e5f1f3"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0,0,0,0.5)"},"&:hover fieldset":{borderColor:"rgba(255,255,255,0.5)"},"&.Mui-focused fieldset":{borderColor:"rgba(255,255,255,1)"}}}}},MuiInputLabel:{styleOverrides:{root:{color:"#fff"}}},MuiTabScrollButton:{styleOverrides:{root:{width:"10px",alignItems:"center"}}},MuiMobileStepper:{styleOverrides:{root:{background:"inherit",".MuiMobileStepper-progress":{width:"100%",height:"15px"},".MuiLinearProgress-bar":{background:"rgba(121,207,233,1)",transition:"transform 0.3s ease-in-out"},".MuiLinearProgress-colorPrimary":{background:"#1f2937e2"}}}},MuiListItemButton:{styleOverrides:{root:{background:"#1f29372e",transition:"all 0.5s ease-in-out","&::before":{content:'""',position:"absolute",left:"0px",bottom:"0px",width:"100%",height:"0%",borderRight:"5px solid #fff",transition:"all 0.3s ease-in-out"},"&:hover::before":{height:"100%"},"&:hover":{background:"#1f2937"}}}},MuiAppBar:{styleOverrides:{root:{background:"#1f29372e"}}},MuiButton:{styleOverrides:{root:{background:"#1f2937",color:"#fff","&:hover":{background:"blue"}}}},MuiPopper:{styleOverrides:{root:{background:"transparent"}}},MuiFab:{styleOverrides:{root:{background:"#fff",color:"#000","&:hover":{background:"rgba(255,255,255,0.5)"}}}}}}),gi=Et(fi("light"));oe.createRoot(document.getElementById("root")).render(e(Wt.StrictMode,{children:e(Nt,{theme:gi,children:e(Gt,{store:hi,children:e(pi,{})})})}));
