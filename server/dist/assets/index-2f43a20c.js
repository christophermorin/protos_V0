import{a2 as c,j as e,l as i,a3 as Ut,a4 as Ht,a5 as he,y as Jt,a6 as Nt}from"./@mui/icons-material-ea1547a5.js";import{a as Wt,r as h,g as Ge,L as Ke,B as Ft,e as Vt,f as W,b as Gt}from"./vendor-2291eaac.js";import{u as D,a as P,P as Kt}from"./react-redux-4de62beb.js";import{a as y}from"./axios-c0bebe37.js";import{D as J,G as u,T as b,a as k,B as q,L as oe,b as ne,c as ae,d as ie,e as T,A as Yt,f as Qt,I as ce,M as Ye,g as K,h as He,i as Je,P as B,j as X,k as Qe,l as Xt,m as Zt,n as M,o as er,p as tr,q as rr,S as Xe,r as or,s as nr,t as ar,u as ir,v as Ze,w as sr,x as F,F as lr,y as cr,z as dr,C as ur,E as V,H as pr,J as hr}from"./@mui/material-670bc1da.js";import{c as Z,a as mr}from"./@reduxjs/toolkit-40e155d4.js";import"./@emotion/react-86744643.js";import{C as Ne,a as gr,L as fr,b as vr,p as xr,c as br,d as yr,e as Cr}from"./chart.js-4b369e31.js";import{B as _r}from"./react-chartjs-2-0b67652a.js";import{D as j}from"./draft-js-8bac8081.js";import{d as Sr}from"./react-timer-hook-69e76c2a.js";import{_ as Pr,G as $r}from"./react-color-bdce95d0.js";import"./@emotion/styled-c8bf7f9c.js";import"./redux-2493d556.js";import"./redux-thunk-ef899f4c.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();var de={},We=Wt.exports;de.createRoot=We.createRoot,de.hydrateRoot=We.hydrateRoot;const wr="/api/users",Tr=async t=>await y.post(`${wr}`,t),kr={userSignUp:Tr},N="/api/userStats",Rr=async t=>(await y.get(`${N}/${t}`)).data,Dr=async({userId:t,username:r})=>await y.post(`${N}/initialize-stats/${t}`,{username:r}),Ar=async t=>await y.put(`${N}/check-streak/${t}`),Br=async(t,{title:r,isComplete:o})=>await y.put(`${N}/update-jobs/${t}`,{title:r,isComplete:o}),jr=async(t,{title:r,isComplete:o})=>await y.put(`${N}/update-protos/${t}`,{title:r,isComplete:o}),H={getUserStats:Rr,createInitialStats:Dr,checkUserStreak:Ar,updateStatsJobsCompleted:Br,updateStatsProtoCompleted:jr};function et({open:t,closeSignUp:r,setOpen:o}){const[n,a]=h.exports.useState(""),[l,d]=h.exports.useState(""),[p,s]=h.exports.useState(""),[v,m]=h.exports.useState("");return e(J,{open:t,onClose:r,children:i(u,{container:!0,direction:"column",padding:5,gap:2,children:[e(b,{variant:"h6",fontWeight:700,children:"Build your perfect day!"}),e(k,{value:n,onChange:g=>a(g.target.value),label:"Username",variant:"standard"}),e(k,{value:l,onChange:g=>d(g.target.value),label:"Email",variant:"standard"}),e(k,{value:p,onChange:g=>s(g.target.value),label:"Password",variant:"standard"}),e(k,{value:v,onChange:g=>m(g.target.value),label:"Confirm Password",variant:"standard"}),e(q,{onClick:async()=>{if(v!==p){console.log("Passwords must match");return}const g={username:n,email:l,password:p};try{const $=await kr.userSignUp(g);await H.createInitialStats({userId:$.data.id,username:$.data.username}),a(""),d(""),s(""),m(""),o(!1)}catch($){console.log($.response.data.error)}},children:"SignUp"})]})})}et.propTypes={open:c.exports.bool.isRequired,closeSignUp:c.exports.func.isRequired,setOpen:c.exports.func.isRequired};const Ir="api/login",Lr=async t=>(await y.post(`${Ir}`,t)).data,zr={loginUser:Lr},tt=Z({name:"userAuth",initialState:null,reducers:{setAuth(t,r){return r.payload}}}),{setAuth:Mr}=tt.actions,me=t=>r=>{r(Mr(t))},Or=tt.reducer;function qr(){const[t,r]=h.exports.useState(""),[o,n]=h.exports.useState(""),[a,l]=h.exports.useState(!1),d=D();return i(u,{container:!0,height:"100%",justifyContent:"center",alignItems:"center",spacing:5,direction:"column",children:[i(u,{item:!0,children:[e(b,{variant:"h1",children:"Protos"}),e(b,{variant:"h6",children:"All things through consistency!"})]}),i(u,{container:!0,item:!0,direction:"column",spacing:2,justifyContent:"center",alignItems:"center",children:[e(k,{value:t,label:"Username",variant:"standard",onChange:m=>r(m.target.value)}),e(k,{value:o,type:"password",label:"Password",variant:"standard",onChange:m=>n(m.target.value)}),i(u,{item:!0,children:[e(q,{onClick:async()=>{const m={username:t,password:o};try{const f=await zr.loginUser(m);await H.checkUserStreak(f.id),window.localStorage.setItem("user",JSON.stringify(f)),d(me(f))}catch(f){console.log(f.response.data.error)}},children:"Login"}),e(q,{onClick:()=>{l(!0)},children:"Signup"})]})]}),e(et,{open:a,setOpen:l,closeSignUp:()=>{l(!1)}})]})}var ge={},x={exports:{}};(function(t){function r(o){return o&&o.__esModule?o:{default:o}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(x);var se={};const Er=Ge(Ut);var Fe;function C(){return Fe||(Fe=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=Er}(se)),se}const _=Ge(Ht);var Ur=x.exports;Object.defineProperty(ge,"__esModule",{value:!0});var Y=ge.default=void 0,Hr=Ur(C()),Jr=_,Nr=(0,Hr.default)((0,Jr.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"}),"Inbox");Y=ge.default=Nr;var fe={},Wr=x.exports;Object.defineProperty(fe,"__esModule",{value:!0});var rt=fe.default=void 0,Fr=Wr(C()),Vr=_,Gr=(0,Fr.default)((0,Vr.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");rt=fe.default=Gr;var ve={},Kr=x.exports;Object.defineProperty(ve,"__esModule",{value:!0});var ot=ve.default=void 0,Yr=Kr(C()),Qr=_,Xr=(0,Yr.default)((0,Qr.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");ot=ve.default=Xr;const Zr="_navButton_134i5_1",eo="_homeButton_134i5_3",to="_actionButton_134i5_129",ro="_activeProtoButton_134i5_191",oo="_activeProtoButtonSelected_134i5_263",no="_protoButton_134i5_293",ao="_protoButtonSecondary_134i5_345",E={navButton:Zr,homeButton:eo,actionButton:to,activeProtoButton:ro,activeProtoButtonSelected:oo,protoButton:no,protoButtonSecondary:ao};function le({title:t,nav:r,action:o}){return e("div",{className:E.navButton,onClick:o,children:e(Ke,{to:r,children:e("span",{style:{position:"relative",zIndex:3},children:t})})})}function nt({handleOpenBuild:t}){const[r,o]=h.exports.useState(!1),[n,a]=h.exports.useState(null),l=D(),d=Boolean(n),p=g=>{a(g.currentTarget)},s=()=>{a(null)},v=()=>{window.localStorage.clear(),a(null),l(me(null))},m=()=>{o(!r)},f=["Dashboard","Library"].map(g=>e(oe,{disablePadding:!0,children:i(ne,{component:Ke,to:`/${g.toLowerCase()}`,children:[e(ae,{children:e(Y,{})}),e(ie,{primary:g})]})},g));return i(T,{height:56,children:[e(Yt,{position:"relative",sx:{height:"inherit",justifyContent:"center",backgroundColor:"#fff"},children:e(Qt,{children:i(u,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e(u,{item:!0,xs:1,children:e(ce,{size:"large",edge:"start",color:"black","aria-label":"menu",onClick:m,children:e(rt,{})})}),i(u,{item:!0,marginLeft:{xs:0,md:25},children:[e(le,{title:"Home",nav:"/"}),e(le,{title:"Active",nav:"/active"}),e(le,{title:"Build",action:t})]}),i(u,{container:!0,item:!0,xs:1,justifyContent:"flex-end",children:[e(ce,{size:"medium","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"black",onClick:p,children:e(ot,{})}),i(Ye,{id:"user-menu",anchorEl:n,open:d,onClose:s,children:[e(K,{onClick:s,children:"Profile"}),e(K,{onClick:s,children:"My account"}),e(K,{onClick:v,children:"Logout"})]})]})]})})}),e(He,{anchor:"left",open:r,variant:"temporary",onClose:m,sx:{display:{md:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:"200px"}},children:i(Je,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",paddingTop:5},children:[e("div",{children:f}),e(oe,{disablePadding:!0,children:i(ne,{children:[e(ae,{children:e(Y,{})}),e(ie,{primary:"Settings"})]})})]})}),e(He,{anchor:"left",open:!0,variant:"permanent",sx:{display:{xs:"none",lg:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:"200px"}},children:i(Je,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",paddingTop:5},children:[e("div",{children:f}),e(oe,{disablePadding:!0,children:i(ne,{children:[e(ae,{children:e(Y,{})}),e(ie,{primary:"Settings"})]})})]})})]})}nt.propTypes={handleOpenBuild:c.exports.func.isRequired};function Ve({dataSet:t,title:r,color:o}){Ne.register(gr,fr,vr,xr,br,yr,Cr),Ne.defaults.color="#fff";const n={indexAxis:"x",responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{color:"rgba(255,255,255,0.2)",lineWidth:1}},y:{grid:{color:"rgba(255,255,255,0.2)",lineWidth:1}}},elements:{bar:{borderWidth:2}},plugins:{legend:{position:"top"},title:{display:!0,text:r}}},l={labels:t.map(d=>d.title),datasets:[{label:"Times Completed",data:t.map(d=>d.timesCompleted),backgroundColor:o}]};return e(_r,{options:n,data:l,width:200,height:500,style:{background:"#121212"}})}const io="_streakCard_1qj15_1",so="_statsCard_1qj15_55",lo="_statsCardBackground_1qj15_69",ue={streakCard:io,statsCard:so,statsCardBackground:lo};function G({stat:t,background:r,title:o}){return i(B,{className:`${ue.statsCard}`,sx:{background:"#121212"},children:[e("div",{className:ue.statsCardBackground,style:{background:r}}),e(b,{variant:"h1",fontWeight:700,color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:t}),e(b,{variant:"h5",color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:o})]})}function co({stat:t,background:r,title:o}){return i(B,{className:`${ue.streakCard}`,sx:{background:"#121212"},children:[e(b,{variant:"h1",fontWeight:700,color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:t}),e(b,{variant:"h5",color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:"Day Streak!"})]})}function uo({userStats:t}){const r=t&&t.totalProtosCompleted.reduce((n,a)=>n+a.timesCompleted,0),o=t&&t.totalJobsCompleted.reduce((n,a)=>n+a.timesCompleted,0);return i(u,{container:!0,spacing:5,marginTop:2,alignItems:"center",item:!0,xs:12,md:4,children:[i(u,{container:!0,direction:"column",item:!0,xs:12,md:3,gap:5,children:[e(G,{stat:r,background:"rgba(255, 99, 132, 1)",title:"Protos Completed"}),e(G,{stat:o,background:"rgba(53, 162, 235, 1)",title:"Jobs Completed"})]}),e(u,{container:!0,item:!0,direction:"column",xs:12,md:6,children:e(co,{stat:t&&t.dayStreak.streak})}),i(u,{container:!0,direction:"column",item:!0,xs:12,md:3,gap:5,children:[e(G,{stat:t&&t.daysWorked,background:"#4c49ea",title:"Days Working"}),e(G,{stat:"?",background:"#952aff",title:"Time On Task"})]})]})}function po({userStats:t}){return i(u,{container:!0,item:!0,spacing:5,xs:12,md:4,marginTop:2,marginBottom:2,children:[e(u,{item:!0,xs:12,md:6,children:e(B,{sx:{padding:2,"&:hover":{boxShadow:"0 0 2px 2px rgba(0,0,0,0.2)"}},children:e(Ve,{dataSet:t?t.totalProtosCompleted:[],title:"Top Protos",color:"rgba(255, 99, 132, 1)"})})}),e(u,{item:!0,xs:12,md:6,children:e(B,{sx:{padding:2,"&:hover":{boxShadow:"0 0 2px 2px rgba(0,0,0,0.2)"}},children:e(Ve,{dataSet:t?t.totalJobsCompleted:[],title:"Top Jobs",color:"rgba(53, 162, 235, 1)"})})})]})}function ho(){const[t,r]=h.exports.useState(null),o=P(n=>n.userAuth);return h.exports.useEffect(()=>{(async()=>{const a=await H.getUserStats(o.id);r(a)})()},[]),t&&t.totalProtosCompleted.reduce((n,a)=>n+a.timesCompleted,0),t&&t.totalJobsCompleted.reduce((n,a)=>n+a.timesCompleted,0),i(u,{item:!0,container:!0,md:"auto",direction:"column",justifyContent:"space-between",marginTop:{xs:2,md:0},marginLeft:{xs:0,md:25},height:{xs:"unset",md:"100%"},children:[e(uo,{userStats:t}),e(po,{userStats:t})]})}function O({title:t,action:r,buttonType:o}){return e("div",{className:E.actionButton,onClick:r,style:o==="secondary"?{borderTop:"2px solid red",borderBottom:"2px solid red"}:{borderTop:"2px solid #000",borderBottom:"2px solid #000"},children:e("span",{style:{position:"relative",zIndex:3},children:t})})}const L="/api/activeProtos",mo=async t=>(await y.get(`${L}/${t}`)).data,go=async(t,r)=>{const o={headers:{Authorization:`bearer ${r}`}};return(await y.post(`${L}`,t,o)).data},fo=async(t,r)=>{await y.put(`${L}/add-one/${t}`,r)},vo=async(t,r)=>(await y.put(`${L}/add-many/${t}`,r)).data,xo=async(t,{protoId:r,userId:o})=>(await y.post(`${L}/delete-one/${t}`,{protoId:r,userId:o})).data,bo=async(t,r)=>(await y.delete(`${L}/delete-many/${t}`,{userId:r})).data,yo=async(t,{protoId:r,isComplete:o})=>(await y.put(`${L}/complete/${t}`,{protoId:r,isComplete:o})).data,Co=async(t,{protoId:r,jobId:o,isComplete:n})=>(await y.put(`${L}/job/complete/${t}`,{protoId:r,jobId:o,isComplete:n})).data,_o=async(t,{protoId:r,jobId:o})=>(await y.put(`${L}/job/delete/${t}`,{protoId:r,jobId:o})).data,I={getActiveProtos:mo,createActiveList:go,addOneToActive:fo,deleteOneFromActive:xo,toggleJobComplete:Co,deleteJob:_o,completeProto:yo,addManyToActive:vo,deleteActiveList:bo},at=Z({name:"displayedProtos",initialState:[],reducers:{buildList(t,r){return[...t,r.payload]},clearList(t,r){return[]},removeOneProto(t,r){return t.filter(o=>o._id!==r.payload)},updateList(t,r){const o=r.payload;return t.map(n=>n._id===o._id?o:n)}}}),{buildList:So,removeOneProto:Po,clearList:$o,updateList:wo}=at.actions,To=t=>r=>{r(So(t))},it=t=>r=>{r(Po(t))},st=()=>t=>{t($o())},pe=t=>r=>{r(wo(t))},ko=at.reducer;function lt({open:t,handleClose:r}){const[o,n]=h.exports.useState([]),[a,l]=h.exports.useState(!1),d=P(m=>m.userProtos),p=D(),s=P(m=>m.userAuth);return e(J,{open:t,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:a?e(X,{children:e(T,{children:"Testing"})}):e(X,{sx:{border:"2px solid black"},children:i(T,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:5,children:[e(T,{display:"flex",flexDirection:"row",flexWrap:!0,gap:1,children:e(O,{title:"Use Template"})}),e(Qe,{id:"grouped-demo",sx:{minWidth:{xs:300,md:500},padding:5},value:o,onChange:(m,f)=>{n(f)},multiple:!0,options:d,getOptionLabel:m=>m.title,renderInput:m=>e(k,{...m,label:"Protos"})}),i(T,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:10,children:[e(O,{title:"Create",action:async()=>{if(o.length===0){console.log("Error: Protos list empty");return}try{const m={selectedProtos:o,user:s.id};await I.createActiveList(m),p(st())}catch(m){console.log(m)}}}),e(O,{title:"Cancel",action:r,buttonType:"secondary"})]})]})})})}lt.propTypes={open:c.exports.bool.isRequired,handleClose:c.exports.func.isRequired};function Ro({title:t}){return e("div",{className:E.homeButton,children:e("span",{style:{position:"relative",zIndex:3},children:t})})}function Do(){const[t,r]=h.exports.useState(!1);return i(u,{container:!0,justifyContent:"center",alignItems:"center",flexGrow:1,gap:5,height:"100%",direction:{xs:"column",md:"row"},children:[e(u,{item:!0,onClick:()=>{r(!0)},marginLeft:{xs:0,md:25},children:e(Ro,{title:"Create Today"})}),e(lt,{open:t,handleClose:()=>{r(!1)}})]})}var xe={},Ao=x.exports;Object.defineProperty(xe,"__esModule",{value:!0});var ct=xe.default=void 0,Bo=Ao(C()),jo=_,Io=(0,Bo.default)((0,jo.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");ct=xe.default=Io;var be={},Lo=x.exports;Object.defineProperty(be,"__esModule",{value:!0});var dt=be.default=void 0,zo=Lo(C()),Mo=_,Oo=(0,zo.default)((0,Mo.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");dt=be.default=Oo;var ye={},qo=x.exports;Object.defineProperty(ye,"__esModule",{value:!0});var ee=ye.default=void 0,Eo=qo(C()),Uo=_,Ho=(0,Eo.default)((0,Uo.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");ee=ye.default=Ho;function Ce({protoDescription:t}){const[r,o]=h.exports.useState(null),n=m=>{o(m.currentTarget)},a=()=>{o(null)},l=Boolean(r),d=l?"simple-popover":void 0,p=j.EditorState.createWithContent(j.convertFromRaw(JSON.parse(t)));function s(m){switch(m.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}}const v={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};return i("div",{children:[e(ee,{"aria-describedby":d,onClick:n,sx:{"&:hover":{background:"rgba(255,0,0,0.3)"},borderRadius:"50%"}}),e(Xt,{id:d,open:l,anchorEl:r,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},PaperProps:{sx:{width:{xs:"325px",md:"600px"}}},scroll:"paper",children:e("div",{style:{background:"white",padding:"10px"},children:e(j.Editor,{editorState:p,readOnly:!0,blockStyleFn:s,customStyleMap:v})})})]})}Ce.defaultProps={protoDescription:null};Ce.propTypes={protoDescription:c.exports.string};const ut=Z({name:"activeProtos",initialState:null,reducers:{setNewActiveProtos(t,r){return r.payload},addOne(t,r){const o=t;return o.activeProtos.push(r.payload),o}}}),{setNewActiveProtos:Jo,addOne:No}=ut.actions,U=t=>r=>{r(Jo(t))},Wo=t=>r=>{r(No(t))},Fo=ut.reducer;function Q({title:t,action:r,buttonType:o}){return e("div",{className:E.protoButton,onClick:r,children:e("span",{children:t})})}function _e({protoTitle:t,protoDescription:r,protoId:o,isComplete:n}){const[a,l]=h.exports.useState(null),d=D(),p=P(S=>S.activeProtos),s=P(S=>S.userAuth),v=Boolean(a);return i(B,{sx:{padding:"16px 16px 0 16px",background:"#eeeeee",border:"2px solid black"},children:[i(T,{display:"flex",justifyContent:"space-between",children:[e(b,{variant:"h5",fontWeight:700,children:t}),e(ce,{size:"large","aria-label":"proto options","aria-controls":"options menu","aria-haspopup":"true",color:"inherit",onClick:S=>{l(S.currentTarget)},children:e(dt,{})}),e(Ye,{id:"user-menu",anchorEl:a,open:v,onClose:()=>{l(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:e(K,{onClick:async()=>{const S=await I.deleteOneFromActive(p._id,{protoId:o,userId:s.id});d(U(S)),d(it(o))},children:"Delete"})})]}),i(T,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:2},children:[e(Ce,{protoDescription:r}),n&&e(Q,{title:"Complete",action:async()=>{try{const w=(await I.completeProto(p._id,{protoId:o,isComplete:n})).find(re=>re._id===o);d(pe(w));const z=await H.updateStatsProtoCompleted(s.id,{title:t,isComplete:n})}catch(S){console.log("In complete proto",S)}}})]})]})}_e.defaultProps={protoDescription:null};_e.propTypes={protoTitle:c.exports.string.isRequired,protoDescription:c.exports.string,protoId:c.exports.string.isRequired,isComplete:c.exports.bool.isRequired};var Se={},Vo=x.exports;Object.defineProperty(Se,"__esModule",{value:!0});var pt=Se.default=void 0,Go=Vo(C()),Ko=_,Yo=(0,Go.default)((0,Ko.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");pt=Se.default=Yo;var Pe={},Qo=x.exports;Object.defineProperty(Pe,"__esModule",{value:!0});var ht=Pe.default=void 0,Xo=Qo(C()),Zo=_,en=(0,Xo.default)((0,Zo.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");ht=Pe.default=en;function tn({totalJobCount:t,totalJobsComplete:r}){return i(he,{children:[e(Zt,{variant:"progress",steps:t===0?0:t+1,activeStep:r,position:"static",sx:{width:"100%",flexGrow:1}}),r===t&&t!==0?e(pt,{fontSize:"large",sx:{color:"rgba(0, 155, 100, 0.5)"}}):e(ht,{fontSize:"large",color:"disabled"})]})}var $e={},rn=x.exports;Object.defineProperty($e,"__esModule",{value:!0});var we=$e.default=void 0,on=rn(C()),nn=_,an=(0,on.default)((0,nn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle");we=$e.default=an;var Te={},sn=x.exports;Object.defineProperty(Te,"__esModule",{value:!0});var mt=Te.default=void 0,ln=sn(C()),cn=_,dn=(0,ln.default)((0,cn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 14H8V8h8v8z"}),"StopCircle");mt=Te.default=dn;function ke({expiryTimestamp:t,timerState:r}){const{seconds:o,minutes:n,pause:a,resume:l}=Sr.exports.useTimer({expiryTimestamp:t,onExpire:()=>console.warn("onExpire called"),autoStart:!1});return h.exports.useEffect(()=>{r?l():r||a()},[r]),e("div",{style:{textAlign:"center"},children:i("div",{style:{background:"lightgrey",fontWeight:"500"},children:[n<10?i("span",{children:["0",n]}):e("span",{children:n}),":",o<10?i("span",{children:["0",o]}):e("span",{children:o})]})})}function te({timerState:t,jobTimer:r}){const o=new Date;return o.setSeconds(o.getSeconds()+r*60),e("div",{style:{zIndex:2},children:e(ke,{expiryTimestamp:o,timerState:t})})}ke.defaultProps={timerState:void 0};ke.propTypes={expiryTimestamp:c.exports.objectOf(c.exports.string).isRequired,timerState:c.exports.bool};te.defaultProps={timerState:void 0,jobTimer:0};te.propTypes={timerState:c.exports.bool,jobTimer:c.exports.number};function gt({job:t,listId:r,protoId:o,userId:n}){const[a,l]=h.exports.useState(!1),[d,p]=h.exports.useState(t.isComplete),s=D(),v=()=>{l(!a)},m=async()=>{try{p(!d);const g=await I.toggleJobComplete(r,{protoId:o,jobId:t._id,isComplete:!d}),$=g.activeProtos.find(w=>w._id===o);s(pe($)),s(U(g));const S=await H.updateStatsJobsCompleted(n,{title:t.title,isComplete:!d})}catch(g){console.log("In toggleJobComplete",g)}},f=async()=>{try{const g=await I.deleteJob(r,{protoId:o,jobId:t._id}),$=g.activeProtos.find(S=>S._id===o);s(pe($)),s(U(g))}catch(g){console.log("In deleteJob",g)}};return e(B,{sx:{padding:1,textDecoration:d?"line-through":null,opacity:d?.4:null,border:"1px solid black"},children:i(u,{container:!0,height:"100%",alignItems:"center",children:[e(u,{container:!0,item:!0,xs:2,children:a?e(mt,{fontSize:"large",onClick:v,sx:{color:"red"}}):e(we,{fontSize:"large",onClick:v})}),i(u,{item:!0,xs:8,children:[e(u,{item:!0,children:e(b,{fontWeight:700,children:t.title})}),i(u,{container:!0,item:!0,direction:"row",maxWidth:"90%",justifyContent:"space-between",marginTop:1,children:[e(Q,{title:"Delete",action:f}),e(Q,{title:"Reset"}),e(Q,{title:"Complete",action:m})]})]}),i(u,{container:!0,item:!0,justifyContent:"flex-end",xs:2,gap:1,children:[e(M,{title:t.description,placement:"top-end",children:e(ee,{})}),e(te,{jobTimer:t.timer,timerState:a})]})]})})}gt.propTypes={job:c.exports.shape({_id:c.exports.string,title:c.exports.string,description:c.exports.string,isComplete:c.exports.bool,isHidden:c.exports.bool,timer:c.exports.number}).isRequired,listId:c.exports.string.isRequired,protoId:c.exports.string.isRequired};function ft({proto:t}){const r=P(s=>s.activeProtos),o=t.jobs.length,n=t.jobs.filter(s=>s.isComplete),[a,l]=h.exports.useState(n.length===o),d=P(s=>s.userAuth);h.exports.useEffect(()=>{l(n.length===o)},[n.length]);const p=t.jobs.map(s=>e(gt,{job:s,listId:r._id,protoId:t._id,userId:d.id},s._id));return i(u,{container:!0,spacing:.5,sx:{width:{xs:"calc(100vw - 16px)",md:"360px"}},children:[e(u,{item:!0,xs:12,children:e(_e,{protoTitle:t.title,protoDescription:t.description,protoId:t._id,listId:r._id,isComplete:a})}),e(u,{item:!0,xs:12,children:i(er,{disableGutters:!0,sx:{border:"2px solid black"},children:[i(tr,{expandIcon:e(ct,{}),"aria-controls":"The How",id:"proto-how",sx:{background:"#eeeeee"},children:[i(b,{margin:"auto",variant:"caption",fontWeight:700,children:[n.length,"/",o]}),e(tn,{totalJobCount:o,totalJobsComplete:n.length})]}),e(rr,{sx:{background:"#eeeeee",overflowY:"auto",scrollbarWidth:"thin"},children:e(Xe,{spacing:1,sx:{maxHeight:"55vh"},children:p})})]})})]},t._id)}ft.propTypes={proto:c.exports.shape({_id:c.exports.string.isRequired,user:c.exports.string.isRequired,title:c.exports.string.isRequired,description:c.exports.string,timeOfDay:c.exports.string,isComplete:c.exports.bool.isRequired,jobs:c.exports.oneOfType([c.exports.array])}).isRequired};var Re={},un=x.exports;Object.defineProperty(Re,"__esModule",{value:!0});var vt=Re.default=void 0,pn=un(C()),hn=_,mn=(0,pn.default)((0,hn.jsx)("path",{d:"M10 8H8v4H4v2h4v4h2v-4h4v-2h-4zm4.5-1.92V7.9l2.5-.5V18h2V5z"}),"PlusOne");vt=Re.default=mn;var De={},gn=x.exports;Object.defineProperty(De,"__esModule",{value:!0});var xt=De.default=void 0,fn=gn(C()),vn=_,xn=(0,fn.default)((0,vn.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");xt=De.default=xn;function bt({open:t,handleClose:r}){const o=P(l=>l.activeProtos),n=D();return e(J,{open:t,onClose:r,children:i(X,{children:[e(b,{children:"This will clear all active Protos. Are you sure?"}),i(T,{display:"flex",justifyContent:"center",alignItems:"center",gap:5,children:[e(q,{onClick:async()=>{try{const l=await I.deleteActiveList(o._id,o.user);n(st()),n(U(l))}catch(l){console.log("In delete/clear list",l)}},children:"Clear List"}),e(q,{onClick:r,children:"Cancel"})]})]})})}bt.propTypes={open:c.exports.bool.isRequired,handleClose:c.exports.func.isRequired};function yt({open:t,handleClose:r}){const[o,n]=h.exports.useState([]),a=P(s=>s.userProtos),l=P(s=>s.activeProtos),d=D();return e(J,{open:t,onClose:r,children:e(X,{children:i(T,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:5,children:[e(Qe,{id:"grouped-demo",sx:{minWidth:{xs:300,md:500},padding:5},value:o,onChange:(s,v)=>{n(v)},multiple:!0,options:a,getOptionLabel:s=>s.title,renderInput:s=>e(k,{...s,label:"Protos"})}),e(q,{onClick:async()=>{if(!l)return console.log("No list currently active, please create one"),-1;try{const s=await I.addManyToActive(l._id,o);d(U(s))}catch(s){console.log("In add many to list",s)}return null},children:"Add"})]})})})}yt.propTypes={open:c.exports.bool.isRequired,handleClose:c.exports.func.isRequired};function bn(){const[t,r]=h.exports.useState(!1),[o,n]=h.exports.useState(!1),a=()=>{r(!0)},l=()=>{console.log("clear"),n(!0)},d=()=>{r(!1),n(!1)};return i(he,{children:[e(or,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:16,right:16},icon:e(nr,{}),children:[{icon:e(xt,{fontSize:"large"}),name:"Clear List",action:l},{icon:e(vt,{fontSize:"large"}),name:"Add Proto",action:a}].map(s=>e(ar,{icon:s.icon,tooltipTitle:s.name,onClick:s.action},s.name))}),e(yt,{open:t,handleClose:d}),e(bt,{open:o,handleClose:d})]})}function yn({title:t,action:r}){const[o,n]=h.exports.useState(!1),a=()=>{n(!o)};return e("div",{className:` ${o?E.activeProtoButtonSelected:E.activeProtoButton}`,onClick:()=>{r(),a()},children:e("span",{style:{position:"relative",zIndex:3},children:t})})}function Cn(){const t=P(p=>p.activeProtos),r=P(p=>p.userAuth),o=P(p=>p.displayedProtos),n=D();h.exports.useEffect(()=>{(async()=>{try{const s=await I.getActiveProtos(r.id);s&&n(U(s))}catch(s){console.log(s)}})()},[]);const a=(p,s)=>{const v=o.find(m=>m._id===s._id);n(v?it(s._id):To(s))},l=t?t.activeProtos.map(p=>e(yn,{title:p.title,action:()=>a(event,p)},p._id)):null,d=o?o.map(p=>e(ir,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:e(u,{item:!0,children:e(ft,{proto:p})})},p._id)):null;return i(u,{container:!0,direction:"row",height:"100%",justifyContent:"center",children:[e(u,{item:!0,xs:12,marginLeft:{xs:"none",md:"200px"},children:e(Ze,{value:!1,variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginTop:1,marginBottom:1},children:l})}),o.length>0?e(u,{item:!0,xs:12,height:"calc(100% - 64px)",marginLeft:{xs:"none",md:"200px"},sx:{overflowX:"auto"},children:e(u,{container:!0,direction:"row",wrap:"nowrap",alignContent:"flex-end",spacing:1,children:d})}):e(b,{variant:"h6",marginLeft:{xs:0,md:25},children:`Hello ${r.username}, let's get to work.`}),e(bn,{})]})}var Ae={},_n=x.exports;Object.defineProperty(Ae,"__esModule",{value:!0});var Ct=Ae.default=void 0,Sn=_n(C()),Pn=_,$n=(0,Sn.default)((0,Pn.jsx)("path",{d:"m16.9542 8.6615 2.1205-2.122 1.4147 1.4137-2.1205 2.122zM2 18h20v2H2zm9-14h2v3h-2zM3.5426 7.9248l1.4142-1.4142L7.078 8.632l-1.4142 1.4142zM5 16h14c0-3.87-3.13-7-7-7s-7 3.13-7 7z"}),"WbTwilight");Ct=Ae.default=$n;var Be={},wn=x.exports;Object.defineProperty(Be,"__esModule",{value:!0});var _t=Be.default=void 0,Tn=wn(C()),kn=_,Rn=(0,Tn.default)((0,kn.jsx)("path",{d:"m6.76 4.84-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7 1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91 1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}),"WbSunny");_t=Be.default=Rn;var je={},Dn=x.exports;Object.defineProperty(je,"__esModule",{value:!0});var St=je.default=void 0,An=Dn(C()),Bn=_,jn=(0,An.default)((0,Bn.jsx)("path",{d:"M14 2c1.82 0 3.53.5 5 1.35-2.99 1.73-5 4.95-5 8.65s2.01 6.92 5 8.65c-1.47.85-3.18 1.35-5 1.35-5.52 0-10-4.48-10-10S8.48 2 14 2z"}),"Nightlight");St=je.default=jn;var Ie={},In=x.exports;Object.defineProperty(Ie,"__esModule",{value:!0});var Pt=Ie.default=void 0,Ln=In(C()),zn=_,Mn=(0,Ln.default)((0,zn.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm6 10c0 3.31-2.69 6-6 6s-6-2.69-6-6h2c0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4v3L8 7l4-4v3c3.31 0 6 2.69 6 6z"}),"ReplayCircleFilled");Pt=Ie.default=Mn;function On({editorState:t,setEditorState:r}){const o=p=>{r(j.RichUtils.toggleBlockType(t,p))},n=p=>{r(j.RichUtils.toggleInlineStyle(t,p))},a=h.exports.useRef(null);function l(){a.current.focus()}const d="RichEditor-editor";return i("div",{className:"RichEditor-root",style:{marginTop:"20px"},children:[i("div",{style:{borderBottom:"1px solid #999",marginBottom:"5px"},children:[e(Hn,{editorState:t,onToggle:o}),e(Nn,{editorState:t,onToggle:n})]}),e("div",{onClick:l,style:{padding:"0 10px",minHeight:"100px",cursor:"text"},children:e(j.Editor,{ref:a,className:d,editorState:t,onChange:r,placeholder:"Proto Description...",blockStyleFn:qn,customStyleMap:En})})]})}function qn(t){switch(t.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}}const En={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}},Un=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}];function Hn(t){const{editorState:r}=t,o=r.getSelection(),n=r.getCurrentContent().getBlockForKey(o.getStartKey()).getType();return e("div",{className:"RichEditor-controls",children:Un.map(a=>e($t,{active:a.style===n,label:a.label,onToggle:t.onToggle,style:a.style},a.label))})}function $t(t){const r=n=>{n.preventDefault(),t.onToggle(t.style)};let o="RichEditor-styleButton";return t.active&&(o+=" RichEditor-activeButton"),e("span",{className:o,onMouseDown:r,children:t.label})}const Jn=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}];function Nn(t){const r=t.editorState.getCurrentInlineStyle();return e("div",{className:"RichEditor-controls",style:{marginBottom:10},children:Jn.map(o=>e($t,{active:r.has(o.style),label:o.label,onToggle:t.onToggle,style:o.style},o.label))})}function Le({setProtoTitle:t,protoTitle:r,handleTimeOfDay:o,protoTimeOfDay:n,editorState:a,setEditorState:l}){return i(B,{sx:{textAlign:"center",border:"1px solid black"},children:[i(T,{children:[e(k,{id:"proto-title",label:"Proto Title...",value:r,onChange:d=>t(d.target.value),fullWidth:!0}),e(On,{editorState:a,setEditorState:l})]}),i(sr,{value:n,exclusive:!0,onChange:o,"aria-label":"text alignment",size:"small",sx:{marginTop:2,marginBottom:2},children:[e(F,{value:0,"aria-label":"morning",children:e(M,{title:"Morning",placement:"top-end",children:e(Ct,{sx:{color:"#ffd600"}})})}),e(F,{value:1,"aria-label":"afternoon",children:e(M,{title:"Afternoon",placement:"top-end",children:e(_t,{sx:{color:"orange"}})})}),e(F,{value:2,"aria-label":"evening",children:e(M,{title:"Evening",placement:"top-end",children:e(St,{sx:{color:"darkblue"}})})}),e(F,{value:3,"aria-label":"continuous",children:e(M,{title:"Continuous",placement:"top-end",children:e(Pt,{sx:{color:"green"}})})})]})]})}Le.defaultProps={protoTimeOfDay:""};Le.propTypes={setProtoTitle:c.exports.func.isRequired,protoTitle:c.exports.string.isRequired,handleTimeOfDay:c.exports.func.isRequired,protoTimeOfDay:c.exports.string,setEditorState:c.exports.func.isRequired};var ze={},Wn=x.exports;Object.defineProperty(ze,"__esModule",{value:!0});var wt=ze.default=void 0,Fn=Wn(C()),Vn=_,Gn=(0,Fn.default)((0,Vn.jsx)("path",{d:"m17.66 5.41.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19 5 17.08l8.06-8.06 1.92 1.92L6.92 19z"}),"ColorizeOutlined");wt=ze.default=Gn;function Tt({displayColorPicker:t,changeColor:r,color:o}){const n=Pr({default:{popover:{position:"absolute",zIndex:"2",bottom:10,left:-220},box:{position:"relative"}}});return e("div",{children:t&&e("div",{style:n.box,children:e("div",{style:n.popover,children:e($r,{width:"220px",triangle:"hide",color:o,onChangeComplete:r})})})})}Tt.propTypes={displayColorPicker:c.exports.bool.isRequired,changeColor:c.exports.func.isRequired};function kt({setNewProtoJobs:t,cardColor:r,setColor:o}){const[n,a]=h.exports.useState(""),[l,d]=h.exports.useState(""),[p,s]=h.exports.useState(0),[v,m]=h.exports.useState(!1),f=()=>{m(!v)},g=(w,z)=>{o(w.rgb)},$=()=>{a(""),d(""),s(""),m(!1),o({r:"255",g:"255",b:"255",a:"0"})},S=()=>{const w={title:n,description:l,timer:p,cardColor:r,isComplete:!1,isHidden:!1};t(z=>[...z,w]),$()};return e(B,{sx:{display:"flex",gap:2,padding:2,background:`linear-gradient(135deg, rgba(${r.r}, ${r.g}, ${r.b}, ${r.a}), rgba(255,255,255) 20%)`,marginTop:5,border:"1px solid black"},children:i(u,{container:!0,spacing:2,children:[i(u,{item:!0,xs:12,md:10,children:[e(k,{id:"standard-basic",label:"Job Title",value:n,fullWidth:!0,onChange:w=>a(w.target.value)}),e(k,{id:"standard-basic",label:"Job Description",multiline:!0,fullWidth:!0,value:l,onChange:w=>d(w.target.value),sx:{marginTop:2}})]}),e(u,{item:!0,xs:12,md:2,alignSelf:"flex-end",justifyContent:"flex-end",children:e(k,{type:"number",id:"standard-basic",label:"Timer",variant:"standard",value:p,onChange:w=>s(+w.target.value),sx:{maxWidth:100}})}),e(u,{item:!0,xs:10,children:i(T,{display:"flex",gap:2,children:[e(O,{title:"Add",action:S}),e(O,{title:"Clear",action:$,buttonType:"secondary"})]})}),e(u,{item:!0,xs:2,children:i(T,{display:"flex",justifyContent:"flex-end",children:[e(wt,{onClick:f,sx:{fontSize:"30px"}}),e(Tt,{displayColorPicker:v,changeColor:g,color:r})]})})]})})}kt.propTypes={setNewProtoJobs:c.exports.func.isRequired,setColor:c.exports.func.isRequired};function Rt({job:t,deleteJob:r}){const o=`rgba(${t.cardColor.r}, ${t.cardColor.g}, ${t.cardColor.b}, ${t.cardColor.a})`;return e(B,{sx:{padding:1,background:`linear-gradient(135deg, ${o}, rgba(255,255,255) 20%)`,border:"1px solid black"},children:i(u,{container:!0,children:[e(u,{item:!0,xs:2,sm:1,display:"flex",alignItems:"center",children:e(we,{fontSize:"large"})}),i(u,{container:!0,item:!0,xs:8,sm:10,direction:"column",gap:2,children:[e(T,{children:e(b,{sx:{fontWeight:"bold"},children:t.title})}),i(T,{display:"flex",gap:2,children:[e(b,{variant:"caption",fontWeight:500,sx:{color:"red",cursor:"pointer"},onClick:()=>r(t.title),children:"Delete"}),e(b,{variant:"caption",fontWeight:500,sx:{cursor:"not-allowed"},children:"Reset"}),e(b,{variant:"caption",fontWeight:500,sx:{cursor:"not-allowed"},children:"Complete"})]})]}),e(u,{item:!0,xs:2,sm:1,children:i(T,{display:"flex",flexDirection:"column",gap:1,alignItems:"flex-end",children:[e(M,{title:t.description,placement:"top-end",children:e(ee,{})}),e(te,{jobTimer:t.timer})]})})]})})}Rt.propTypes={job:c.exports.shape({_id:c.exports.string,title:c.exports.string,description:c.exports.string,isComplete:c.exports.bool,isHidden:c.exports.bool,timer:c.exports.number}).isRequired,deleteJob:c.exports.func.isRequired};const Me="/api/protos",Kn=async t=>(await y.get(`${Me}/${t}`)).data,Yn=async(t,r)=>{const o={headers:{Authorization:`bearer ${r}`}};return(await y.post(`${Me}`,t,o)).data},Qn=async({user:t,proto:r})=>await y.put(`${Me}/${t}`,{proto:r}),Oe={getUserProtos:Kn,createNewProto:Yn,deleteUserProto:Qn},Dt=Z({name:"userProtos",initialState:[],reducers:{setAllProtos(t,r){return r.payload},addFromBuild(t,r){return[...t,r.payload]},deleteUserProto(t,r){const o=r.payload;return t.filter(n=>n._id!==o)}}}),{setAllProtos:Xn,addFromBuild:Zn,deleteUserProto:ea}=Dt.actions,ta=t=>r=>{r(Xn(t))},ra=t=>r=>{r(Zn(t))},oa=t=>r=>{r(ea(t))},na=Dt.reducer;function qe({open:t,handleCloseBuild:r}){const[o,n]=h.exports.useState(""),[a,l]=h.exports.useState(""),[d,p]=h.exports.useState(""),[s,v]=h.exports.useState([]),[m,f]=h.exports.useState(!1),g=D(),$=P(R=>R.userAuth),S=P(R=>R.activeProtos),[w,z]=h.exports.useState(()=>j.EditorState.createEmpty()),re=JSON.stringify(j.convertToRaw(w.getCurrentContent())),[It,Lt]=h.exports.useState({r:"255",g:"255",b:"255",a:"1"}),zt=(R,A)=>{p(A)},Mt=()=>{f(!m)},Ot=R=>{const A=s.filter(Et=>Et.title!==R);v(A)},qt=s.map(R=>e(Rt,{job:R,deleteJob:Ot},R.title));return e(J,{open:t||!1,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:e(u,{container:!0,sx:{padding:2},children:i(u,{item:!0,xs:12,children:[e(Le,{setProtoTitle:n,setProtoDescription:l,protoTitle:o,protoDescription:a,handleTimeOfDay:zt,protoTimeOfDay:d,editorState:w,setEditorState:z}),e(Xe,{spacing:1,sx:{marginTop:5},children:qt}),e(kt,{setNewProtoJobs:v,cardColor:It,setColor:Lt}),S&&e(lr,{sx:{marginTop:2},children:e(cr,{control:e(dr,{checked:m,onClick:Mt}),label:"Add Proto to active list"})}),e(T,{display:"flex",justifyContent:"center",marginTop:2,children:e(O,{title:"Create Proto",action:async()=>{if(!o)return console.log("Title required"),-1;const R={title:o,description:re,timeOfDay:d,jobs:s};try{const A=await Oe.createNewProto(R,$.token);g(ra(A)),n(""),l(""),p(""),v([]),z(()=>j.EditorState.createEmpty()),A&&m&&(await I.addOneToActive(S._id,A),g(Wo(A)))}catch(A){console.log(A,"Proto already exists")}}})})]})})})}qe.defaultProps={open:void 0};qe.propTypes={open:c.exports.bool,handleCloseBuild:c.exports.func.isRequired};var Ee={},aa=x.exports;Object.defineProperty(Ee,"__esModule",{value:!0});var At=Ee.default=void 0,ia=aa(C()),sa=_,la=(0,ia.default)((0,sa.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment");At=Ee.default=la;var Ue={},ca=x.exports;Object.defineProperty(Ue,"__esModule",{value:!0});var Bt=Ue.default=void 0,da=ca(C()),ua=_,pa=(0,da.default)((0,ua.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm3.3 14.71L11 12.41V7h2v4.59l3.71 3.71-1.42 1.41z"}),"AccessTimeFilled");Bt=Ue.default=pa;function jt({proto:t,deleteProto:r}){return e(B,{style:{width:"360px",height:"100px",background:"#eeeeee"},children:i(u,{container:!0,height:"100%",justifyContent:"space-between",children:[e(u,{item:!0,xs:12,alignSelf:"center",marginLeft:2,children:e(b,{variant:"h5",fontWeight:700,children:t.title})}),i(u,{container:!0,item:!0,xs:12,alignSelf:"center",justifyContent:"space-between",marginLeft:2,marginRight:2,children:[i(u,{item:!0,children:[e(At,{sx:{marginRight:"16px"}}),e(Bt,{})]}),i(u,{item:!0,children:[e(b,{variant:"caption",fontWeight:500,sx:{"&:hover":{color:"red"},cursor:"pointer"},children:"View"}),e(b,{variant:"caption",fontWeight:500,onClick:()=>r(t.title,t._id),sx:{"&:hover":{color:"red"},cursor:"pointer",marginLeft:5},children:"Delete"})]})]})]})})}jt.propTypes={title:c.exports.string.isRequired};function ha(){const[t,r]=h.exports.useState(0),[o,n]=h.exports.useState(null),a=P(f=>f.userProtos),l=ur("(min-width:568px)"),d=P(f=>f.userAuth),p=D(),s=async(f,g)=>{try{await Oe.deleteUserProto({user:d.id,proto:f}),p(oa(g))}catch($){console.log("In library delete",$)}},v=(f,g)=>{r(g)},m=a?a.map(f=>{if(+f.timeOfDay===o)return e(jt,{proto:f,deleteProto:s},f._id)}):null;return i(u,{container:!0,children:[e(u,{item:!0,xs:12,md:"auto",marginTop:{xs:0,md:10},marginLeft:{xs:0,md:25},marginRight:{xs:0,md:2},marginBottom:2,children:i(Ze,{orientation:l?"vertical":"horizontal",variant:"scrollable",value:t,onChange:v,"aria-label":"Proto Catagory Selection",sx:{borderRight:1,borderColor:"divider"},children:[e(V,{label:"Morning",onClick:()=>n(0)}),e(V,{label:"Afternoon",onClick:()=>n(1)}),e(V,{label:"Evening",onClick:()=>n(2)}),e(V,{label:"All day",onClick:()=>n(3)})]})}),e(u,{container:!0,md:!0,item:!0,gap:2,alignContent:"flex-start",justifyContent:{xs:"center",md:"flex-start"},marginTop:{xs:5,md:10},children:m})]})}function ma(){const t=D(),r=P(d=>d.userAuth),[o,n]=h.exports.useState(),a=()=>{n(!o)},l=()=>{n(!1)};return h.exports.useEffect(()=>{(async()=>{try{if(r){const p=await Oe.getUserProtos(r.id);await H.checkUserStreak(r.id),t(ta(p))}}catch(p){console.log("In App, get user protos",p)}})()},[r]),h.exports.useEffect(()=>{t(me(JSON.parse(window.localStorage.getItem("user")||null)))},[]),i(Ft,{children:[e(pr,{}),r?i(he,{children:[e(nt,{handleOpenBuild:a}),e(qe,{open:o,handleCloseBuild:l}),e(hr,{maxWidth:"false",sx:{padding:"0 10px",height:"calc(100% - 56px)"},children:i(Vt,{children:[e(W,{path:"/",element:e(Do,{user:r})}),e(W,{path:"/active",element:e(Cn,{})}),e(W,{path:"/Dashboard",element:e(ho,{})}),e(W,{path:"/Library",element:e(ha,{})})]})})]}):e(qr,{})]})}const ga=mr({reducer:{userProtos:na,activeProtos:Fo,userAuth:Or,displayedProtos:ko}}),fa=Jt({components:{MuiTextField:{styleOverrides:{root:{"& label.Mui-focused":{color:"rgba(0,100,0,0.5)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0,0,0,0.5)"},"&:hover fieldset":{borderColor:"rgba(0,0,0,0.1)"},"&.Mui-focused fieldset":{borderColor:"rgba(0,100,0,0.5)"}}}}},MuiTabScrollButton:{styleOverrides:{root:{width:"10px",alignItems:"center"}}},MuiMobileStepper:{styleOverrides:{root:{background:"inherit",".MuiMobileStepper-progress":{width:"100%",height:"15px"},".MuiLinearProgress-bar":{background:"rgba(0, 155, 100, 0.5)",transition:"transform 0.3s linear"},".MuiLinearProgress-colorPrimary":{background:"rgba(0,0,0,0.2)"}}}}}});de.createRoot(document.getElementById("root")).render(e(Gt.StrictMode,{children:e(Nt,{theme:fa,children:e(Kt,{store:ga,children:e(ma,{})})})}));
