import{a2 as c,j as e,l as s,a3 as Ot,a4 as jt,a5 as Y,y as Lt,a6 as Bt}from"./@mui/icons-material-ea1547a5.js";import{a as qt,r as h,g as Ue,L as He,B as Et,e as Ut,f as N,b as Ht}from"./vendor-2291eaac.js";import{u as A,a as $,P as Jt}from"./react-redux-4de62beb.js";import{a as S}from"./axios-c0bebe37.js";import{D as H,G as u,T as x,a as R,B as M,L as Nt,b as Wt,c as Ft,d as Vt,A as Gt,e as Yt,I as te,M as Je,f as G,g as w,h as je,P as I,i as ae,j as Ne,k as Kt,l as Xt,m as Qt,n as Zt,o as er,S as We,p as tr,q as rr,r as or,s as nr,t as Fe,u as ir,v as W,w as E,F as ar,x as sr,y as lr,z as cr,C as F,E as dr,H as ur}from"./@mui/material-a3e7dd74.js";import{c as K,a as pr}from"./@reduxjs/toolkit-40e155d4.js";import"./@emotion/react-86744643.js";import{C as Le,a as hr,L as fr,b as gr,p as mr,c as vr,d as xr,e as br}from"./chart.js-4b369e31.js";import{B as yr}from"./react-chartjs-2-0b67652a.js";import{D as z}from"./draft-js-8bac8081.js";import{d as Cr}from"./react-timer-hook-69e76c2a.js";import{_ as Sr,G as _r}from"./react-color-bdce95d0.js";import"./@emotion/styled-c8bf7f9c.js";import"./redux-2493d556.js";import"./redux-thunk-ef899f4c.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function o(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=o(i);fetch(i.href,l)}})();var re={},Be=qt.exports;re.createRoot=Be.createRoot,re.hydrateRoot=Be.hydrateRoot;const Pr="/api/users",$r=async t=>await S.post(`${Pr}`,t),wr={userSignUp:$r},J="/api/userStats",kr=async t=>(await S.get(`${J}/${t}`)).data,Rr=async({userId:t,username:r})=>await S.post(`${J}/initialize-stats/${t}`,{username:r}),Tr=async t=>await S.put(`${J}/check-streak/${t}`),Ar=async(t,{title:r,isComplete:o})=>await S.put(`${J}/update-jobs/${t}`,{title:r,isComplete:o}),Dr=async(t,{title:r,isComplete:o})=>await S.put(`${J}/update-protos/${t}`,{title:r,isComplete:o}),q={getUserStats:kr,createInitialStats:Rr,checkUserStreak:Tr,updateStatsJobsCompleted:Ar,updateStatsProtoCompleted:Dr};function Ve({open:t,closeSignUp:r,setOpen:o}){const[n,i]=h.exports.useState(""),[l,d]=h.exports.useState(""),[p,a]=h.exports.useState(""),[m,f]=h.exports.useState("");return e(H,{open:t,onClose:r,children:s(u,{container:!0,direction:"column",padding:5,gap:2,children:[e(x,{variant:"h6",fontWeight:700,children:"Build your perfect day!"}),e(R,{value:n,onChange:b=>i(b.target.value),label:"Username",variant:"standard"}),e(R,{value:l,onChange:b=>d(b.target.value),label:"Email",variant:"standard"}),e(R,{value:p,onChange:b=>a(b.target.value),label:"Password",variant:"standard"}),e(R,{value:m,onChange:b=>f(b.target.value),label:"Confirm Password",variant:"standard"}),e(M,{onClick:async()=>{if(m!==p){console.log("Passwords must match");return}const b={username:n,email:l,password:p};try{const g=await wr.userSignUp(b);await q.createInitialStats({userId:g.data.id,username:g.data.username}),i(""),d(""),a(""),f(""),o(!1)}catch(g){console.log(g.response.data.error)}},children:"SignUp"})]})})}Ve.propTypes={open:c.exports.bool.isRequired,closeSignUp:c.exports.func.isRequired,setOpen:c.exports.func.isRequired};const Ir="api/login",zr=async t=>(await S.post(`${Ir}`,t)).data,Mr={loginUser:zr},Ge=K({name:"userAuth",initialState:null,reducers:{setAuth(t,r){return r.payload}}}),{setAuth:Or}=Ge.actions,se=t=>r=>{r(Or(t))},jr=Ge.reducer;function Lr(){const[t,r]=h.exports.useState(""),[o,n]=h.exports.useState(""),[i,l]=h.exports.useState(!1),d=A();return s(u,{container:!0,height:"100%",justifyContent:"center",alignItems:"center",spacing:5,direction:"column",children:[s(u,{item:!0,children:[e(x,{variant:"h1",children:"Protos"}),e(x,{variant:"h6",children:"All things through consistency!"})]}),s(u,{container:!0,item:!0,direction:"column",spacing:2,justifyContent:"center",alignItems:"center",children:[e(R,{value:t,label:"Username",variant:"standard",onChange:f=>r(f.target.value)}),e(R,{value:o,type:"password",label:"Password",variant:"standard",onChange:f=>n(f.target.value)}),s(u,{item:!0,children:[e(M,{onClick:async()=>{const f={username:t,password:o};try{const v=await Mr.loginUser(f);await q.checkUserStreak(v.id),window.localStorage.setItem("user",JSON.stringify(v)),d(se(v))}catch(v){console.log(v.response.data.error)}},children:"Login"}),e(M,{onClick:()=>{l(!0)},children:"Signup"})]})]}),e(Ve,{open:i,setOpen:l,closeSignUp:()=>{l(!1)}})]})}var le={},y={exports:{}};(function(t){function r(o){return o&&o.__esModule?o:{default:o}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(y);var Z={};const Br=Ue(Ot);var qe;function _(){return qe||(qe=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=Br}(Z)),Z}const P=Ue(jt);var qr=y.exports;Object.defineProperty(le,"__esModule",{value:!0});var Ye=le.default=void 0,Er=qr(_()),Ur=P,Hr=(0,Er.default)((0,Ur.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");Ye=le.default=Hr;var ce={},Jr=y.exports;Object.defineProperty(ce,"__esModule",{value:!0});var Ke=ce.default=void 0,Nr=Jr(_()),Wr=P,Fr=(0,Nr.default)((0,Wr.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");Ke=ce.default=Fr;var de={},Vr=y.exports;Object.defineProperty(de,"__esModule",{value:!0});var Xe=de.default=void 0,Gr=Vr(_()),Yr=P,Kr=(0,Gr.default)((0,Yr.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");Xe=de.default=Kr;function ee({title:t,nav:r,action:o}){return e(M,{onClick:o,component:He,to:r,variant:"contained",color:"primary",sx:{cursor:"pointer",transition:"all 0.5s ease-in-out",padding:"0 10px","&::before":{content:'""',position:"absolute",left:"0px",bottom:"0px",width:"0%",height:"5%",borderBottom:"2px solid #fff",transition:"all 0.3s ease-in-out"},"&:hover::before":{width:"100%"}},children:t})}function Qe({handleOpenBuild:t}){const[r,o]=h.exports.useState(!1),[n,i]=h.exports.useState(null),l=A(),d=Boolean(n),p=g=>{i(g.currentTarget)},a=()=>{i(null)},m=()=>{window.localStorage.clear(),i(null),l(se(null))},f=()=>{o(!r)},v=["Dashboard","Library"].map(g=>e(Nt,{disablePadding:!0,children:s(Wt,{component:He,to:`/${g.toLowerCase()}`,children:[e(Ft,{children:e(Ye,{})}),e(Vt,{primary:g})]})},g));return s(Y,{children:[e(Gt,{position:"fixed",color:"primary",enableColorOnDark:!0,sx:{height:"56px",backgroundImage:"unset"},children:e(Yt,{children:s(u,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e(u,{item:!0,xs:1,children:e(te,{size:"large",color:"secondary",edge:"start","aria-label":"menu",onClick:f,sx:{visibility:{md:"hidden"}},children:e(Ke,{})})}),s(u,{item:!0,marginLeft:{xs:0,md:"200px"},children:[e(ee,{title:"Home",nav:"/"}),e(ee,{title:"Active",nav:"/active"}),e(ee,{title:"Build",action:t})]}),s(u,{container:!0,item:!0,xs:1,justifyContent:"flex-end",children:[e(te,{size:"medium","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"secondary",onClick:p,children:e(Xe,{})}),s(Je,{id:"user-menu",anchorEl:n,open:d,onClose:a,children:[e(G,{onClick:a,children:"Profile"}),e(G,{onClick:a,children:"My account"}),e(G,{onClick:m,children:"Logout"})]})]})]})})}),s(w,{sx:{width:{md:200},flexShrink:{sm:0}},children:[e(je,{anchor:"left",open:r,variant:"temporary",onClose:f,sx:{display:{md:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:"200px"}},children:e("div",{children:v})}),e(je,{anchor:"left",open:!0,variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:"200px",marginTop:"58px"}},children:e("div",{children:v})})]})]})}Qe.propTypes={handleOpenBuild:c.exports.func.isRequired};const Xr="_streakCard_1qj15_1",Qr="_statsCard_1qj15_55",Zr="_statsCardBackground_1qj15_69",oe={streakCard:Xr,statsCard:Qr,statsCardBackground:Zr};function V({stat:t,background:r,title:o}){return s(I,{className:`${oe.statsCard}`,sx:{background:"#121212"},children:[e("div",{className:oe.statsCardBackground,style:{background:r}}),e(x,{variant:"h1",fontWeight:700,color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:t}),e(x,{variant:"h5",color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:o})]})}function eo({stat:t}){return s(I,{className:`${oe.streakCard}`,sx:{background:"#121212"},children:[e(x,{variant:"h1",fontWeight:700,color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:t}),e(x,{variant:"h5",color:"#fff",position:"relative",zIndex:2,textAlign:"center",children:"Day Streak!"})]})}function to({userStats:t}){const r=t&&t.totalProtosCompleted.reduce((n,i)=>n+i.timesCompleted,0),o=t&&t.totalJobsCompleted.reduce((n,i)=>n+i.timesCompleted,0);return s(u,{container:!0,spacing:5,alignItems:"center",item:!0,xs:12,md:4,children:[s(u,{container:!0,direction:"column",item:!0,xs:12,md:3,gap:5,children:[e(V,{stat:r,background:"rgba(255, 99, 132, 1)",title:"Protos Completed"}),e(V,{stat:o,background:"rgba(53, 162, 235, 1)",title:"Jobs Completed"})]}),e(u,{container:!0,item:!0,direction:"column",xs:12,md:6,children:e(eo,{stat:t&&t.dayStreak.streak})}),s(u,{container:!0,direction:"column",item:!0,xs:12,md:3,gap:5,children:[e(V,{stat:t&&t.daysWorked,background:"#4c49ea",title:"Days Working"}),e(V,{stat:"?",background:"#952aff",title:"Time On Task"})]})]})}function Ee({dataSet:t,title:r,color:o}){Le.register(hr,fr,gr,mr,vr,xr,br),Le.defaults.color="#fff";const n={indexAxis:"x",responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{color:"rgba(255,255,255,0.2)",lineWidth:1}},y:{grid:{color:"rgba(255,255,255,0.2)",lineWidth:1}}},elements:{bar:{borderWidth:2}},plugins:{legend:{position:"top"},title:{display:!0,text:r}}},l={labels:t.map(d=>d.title),datasets:[{label:"Times Completed",data:t.map(d=>d.timesCompleted),backgroundColor:o}]};return e(yr,{options:n,data:l,width:200,height:500,style:{background:"#121212"}})}function ro({userStats:t}){return s(u,{container:!0,item:!0,spacing:5,xs:12,md:4,marginTop:2,marginBottom:2,children:[e(u,{item:!0,xs:12,md:6,children:e(I,{sx:{padding:2,"&:hover":{boxShadow:"0 0 2px 2px rgba(0,0,0,0.2)"}},children:e(Ee,{dataSet:t?t.totalProtosCompleted:[],title:"Top Protos",color:"rgba(255, 99, 132, 1)"})})}),e(u,{item:!0,xs:12,md:6,children:e(I,{sx:{padding:2,"&:hover":{boxShadow:"0 0 2px 2px rgba(0,0,0,0.2)"}},children:e(Ee,{dataSet:t?t.totalJobsCompleted:[],title:"Top Jobs",color:"rgba(53, 162, 235, 1)"})})})]})}function oo(){const[t,r]=h.exports.useState(null),o=$(n=>n.userAuth);return h.exports.useEffect(()=>{(async()=>{const i=await q.getUserStats(o.id);r(i)})()},[]),t&&t.totalProtosCompleted.reduce((n,i)=>n+i.timesCompleted,0),t&&t.totalJobsCompleted.reduce((n,i)=>n+i.timesCompleted,0),s(u,{item:!0,container:!0,md:"auto",direction:"column",justifyContent:"space-between",marginTop:2,height:{xs:"unset",md:"inherit"},children:[e(to,{userStats:t}),e(ro,{userStats:t})]})}const no="_actionButton_undfd_129",io="_activeProtoButton_undfd_191",ao="_activeProtoButtonSelected_undfd_263",ne={actionButton:no,activeProtoButton:io,activeProtoButtonSelected:ao};function U({title:t,action:r,buttonType:o}){return e("div",{className:ne.actionButton,onClick:r,style:o==="secondary"?{borderTop:"2px solid red",borderBottom:"2px solid red"}:{borderTop:"2px solid #000",borderBottom:"2px solid #000"},children:e("span",{style:{position:"relative",zIndex:3},children:t})})}const j="/api/activeProtos",so=async t=>(await S.get(`${j}/${t}`)).data,lo=async(t,r)=>{const o={headers:{Authorization:`bearer ${r}`}};return(await S.post(`${j}`,t,o)).data},co=async(t,r)=>{await S.put(`${j}/add-one/${t}`,r)},uo=async(t,r)=>(await S.put(`${j}/add-many/${t}`,r)).data,po=async(t,{protoId:r,userId:o})=>(await S.post(`${j}/delete-one/${t}`,{protoId:r,userId:o})).data,ho=async(t,r)=>(await S.delete(`${j}/delete-many/${t}`,{userId:r})).data,fo=async(t,{protoId:r,isComplete:o})=>(await S.put(`${j}/complete/${t}`,{protoId:r,isComplete:o})).data,go=async(t,{protoId:r,jobId:o,isComplete:n})=>(await S.put(`${j}/job/complete/${t}`,{protoId:r,jobId:o,isComplete:n})).data,mo=async(t,{protoId:r,jobId:o})=>(await S.put(`${j}/job/delete/${t}`,{protoId:r,jobId:o})).data,O={getActiveProtos:so,createActiveList:lo,addOneToActive:co,deleteOneFromActive:po,toggleJobComplete:go,deleteJob:mo,completeProto:fo,addManyToActive:uo,deleteActiveList:ho},Ze=K({name:"displayedProtos",initialState:[],reducers:{buildList(t,r){return[...t,r.payload]},clearList(t,r){return[]},removeOneProto(t,r){return t.filter(o=>o._id!==r.payload)},updateList(t,r){const o=r.payload;return t.map(n=>n._id===o._id?o:n)}}}),{buildList:vo,removeOneProto:xo,clearList:bo,updateList:yo}=Ze.actions,Co=t=>r=>{r(vo(t))},et=t=>r=>{r(xo(t))},tt=()=>t=>{t(bo())},ie=t=>r=>{r(yo(t))},So=Ze.reducer;function rt({open:t,handleClose:r}){const[o,n]=h.exports.useState([]);h.exports.useState(!1);const i=$(a=>a.userProtos),l=A(),d=$(a=>a.userAuth);return e(H,{open:t,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:e(ae,{sx:{border:"2px solid black"},children:s(w,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:5,children:[e(x,{variant:"h2",children:"Logo"}),s(u,{container:!0,direction:{xs:"column",md:"row"},children:[e(u,{item:!0,md:4,children:e(x,{variant:"caption",fontWeight:700,children:"Something about using templates, foggy brain."})}),e(u,{container:!0,item:!0,md:8,justifyContent:"center",children:e(M,{sx:{width:"100%",border:"1px solid black"},children:"Open Templates"})})]}),s(u,{container:!0,direction:{xs:"column",md:"row"},children:[e(u,{item:!0,md:4,children:e(x,{variant:"caption",fontWeight:700,children:"Placement text here I can't think of what to say right now."})}),e(u,{item:!0,md:8,children:e(Ne,{id:"grouped-demo",value:o,onChange:(a,m)=>{n(m)},multiple:!0,options:i,getOptionLabel:a=>a.title,renderInput:a=>e(R,{...a,label:"Select Protos"})})})]}),s(w,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:10,children:[e(U,{title:"Create",action:async()=>{if(o.length===0){console.log("Error: Protos list empty");return}try{const a={selectedProtos:o,user:d.id};await O.createActiveList(a),l(tt())}catch(a){console.log(a)}}}),e(U,{title:"Cancel",action:r,buttonType:"secondary"})]})]})})})}rt.propTypes={open:c.exports.bool.isRequired,handleClose:c.exports.func.isRequired};function _o({title:t}){return e(M,{variant:"contained",color:"primary",sx:{border:"2px solid #010100",borderRadius:"5px",padding:"15px",color:"#ffffff",textTransform:"uppercase",letterSpacing:"2px",position:"relative",display:"inline-block",cursor:"pointer",fontSize:"0.9rem",transition:"box-shadow 0.3s ease-in","&::before":{content:'""',position:"absolute",top:"0",left:"0",width:"calc(100%)",height:"calc(100%)",backgroundColor:"#ffffff",transition:"transform 0.3s ease-in-out",transform:"scaleY(0)"},"&:hover::before":{transform:"scaleY(1)"},"&:hover":{color:"#000000",boxShadow:"0 10px 1px 1px black"}},children:e("span",{style:{position:"relative",zIndex:5},children:t})})}function Po(){const[t,r]=h.exports.useState(!1);return s(u,{container:!0,justifyContent:"center",alignItems:"center",flexGrow:1,gap:5,height:"100%",direction:{xs:"column",md:"row"},children:[e(u,{item:!0,onClick:()=>{r(!0)},children:e(_o,{title:"Create Today"})}),e(rt,{open:t,handleClose:()=>{r(!1)}})]})}var ue={},$o=y.exports;Object.defineProperty(ue,"__esModule",{value:!0});var ot=ue.default=void 0,wo=$o(_()),ko=P,Ro=(0,wo.default)((0,ko.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");ot=ue.default=Ro;var pe={},To=y.exports;Object.defineProperty(pe,"__esModule",{value:!0});var nt=pe.default=void 0,Ao=To(_()),Do=P,Io=(0,Ao.default)((0,Do.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");nt=pe.default=Io;var he={},zo=y.exports;Object.defineProperty(he,"__esModule",{value:!0});var fe=he.default=void 0,Mo=zo(_()),Oo=P,jo=(0,Mo.default)((0,Oo.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");fe=he.default=jo;function ge({protoDescription:t}){const[r,o]=h.exports.useState(null),n=f=>{o(f.currentTarget)},i=()=>{o(null)},l=Boolean(r),d=l?"simple-popover":void 0,p=z.EditorState.createWithContent(z.convertFromRaw(JSON.parse(t)));function a(f){switch(f.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}}const m={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};return s("div",{children:[e(fe,{"aria-describedby":d,onClick:n,sx:{"&:hover":{background:"rgba(255,0,0,0.3)"},borderRadius:"50%"}}),e(Kt,{id:d,open:l,anchorEl:r,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},PaperProps:{sx:{width:{xs:"325px",md:"600px"}}},scroll:"paper",children:e("div",{style:{background:"white",padding:"10px"},children:e(z.Editor,{editorState:p,readOnly:!0,blockStyleFn:a,customStyleMap:m})})})]})}ge.defaultProps={protoDescription:null};ge.propTypes={protoDescription:c.exports.string};const it=K({name:"activeProtos",initialState:null,reducers:{setNewActiveProtos(t,r){return r.payload},addOne(t,r){const o=t;return o.activeProtos.push(r.payload),o}}}),{setNewActiveProtos:Lo,addOne:Bo}=it.actions,B=t=>r=>{r(Lo(t))},qo=t=>r=>{r(Bo(t))},Eo=it.reducer;function me({protoTitle:t,protoDescription:r,protoId:o,isComplete:n}){const[i,l]=h.exports.useState(null),d=A(),p=$(C=>C.activeProtos),a=$(C=>C.userAuth),m=Boolean(i);return s(I,{sx:{padding:"16px 16px 0 16px"},children:[s(w,{display:"flex",justifyContent:"space-between",children:[e(x,{variant:"h5",fontWeight:700,children:t}),e(te,{size:"large","aria-label":"proto options","aria-controls":"options menu","aria-haspopup":"true",color:"inherit",onClick:C=>{l(C.currentTarget)},children:e(nt,{})}),e(Je,{id:"user-menu",anchorEl:i,open:m,onClose:()=>{l(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:e(G,{onClick:async()=>{const C=await O.deleteOneFromActive(p._id,{protoId:o,userId:a.id});d(B(C)),d(et(o))},children:"Delete"})})]}),s(w,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:2},children:[e(ge,{protoDescription:r}),n&&e(x,{variant:"caption",onClick:async()=>{try{const k=(await O.completeProto(p._id,{protoId:o,isComplete:n})).find(Q=>Q._id===o);d(ie(k));const L=await q.updateStatsProtoCompleted(a.id,{title:t,isComplete:n})}catch(C){console.log("In complete proto",C)}}})]})]})}me.defaultProps={protoDescription:null};me.propTypes={protoTitle:c.exports.string.isRequired,protoDescription:c.exports.string,protoId:c.exports.string.isRequired,isComplete:c.exports.bool.isRequired};var ve={},Uo=y.exports;Object.defineProperty(ve,"__esModule",{value:!0});var at=ve.default=void 0,Ho=Uo(_()),Jo=P,No=(0,Ho.default)((0,Jo.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");at=ve.default=No;var xe={},Wo=y.exports;Object.defineProperty(xe,"__esModule",{value:!0});var st=xe.default=void 0,Fo=Wo(_()),Vo=P,Go=(0,Fo.default)((0,Vo.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");st=xe.default=Go;function Yo({totalJobCount:t,totalJobsComplete:r}){return s(Y,{children:[e(Xt,{variant:"progress",steps:t===0?0:t+1,activeStep:r,position:"static",sx:{width:"100%",flexGrow:1}}),r===t&&t!==0?e(at,{fontSize:"large",sx:{color:"rgba(0, 155, 100, 0.5)"}}):e(st,{fontSize:"large",color:"disabled"})]})}var be={},Ko=y.exports;Object.defineProperty(be,"__esModule",{value:!0});var ye=be.default=void 0,Xo=Ko(_()),Qo=P,Zo=(0,Xo.default)((0,Qo.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle");ye=be.default=Zo;var Ce={},en=y.exports;Object.defineProperty(Ce,"__esModule",{value:!0});var lt=Ce.default=void 0,tn=en(_()),rn=P,on=(0,tn.default)((0,rn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 14H8V8h8v8z"}),"StopCircle");lt=Ce.default=on;function Se({expiryTimestamp:t,timerState:r}){const{seconds:o,minutes:n,pause:i,resume:l}=Cr.exports.useTimer({expiryTimestamp:t,onExpire:()=>console.warn("onExpire called"),autoStart:!1});return h.exports.useEffect(()=>{r?l():r||i()},[r]),e("div",{style:{textAlign:"center"},children:s("div",{style:{fontWeight:"500"},children:[n<10?s("span",{children:["0",n]}):e("span",{children:n}),":",o<10?s("span",{children:["0",o]}):e("span",{children:o})]})})}function X({timerState:t,jobTimer:r}){const o=new Date;return o.setSeconds(o.getSeconds()+r*60),e("div",{style:{zIndex:2},children:e(Se,{expiryTimestamp:o,timerState:t})})}Se.defaultProps={timerState:void 0};Se.propTypes={expiryTimestamp:c.exports.objectOf(c.exports.string).isRequired,timerState:c.exports.bool};X.defaultProps={timerState:void 0,jobTimer:0};X.propTypes={timerState:c.exports.bool,jobTimer:c.exports.number};function ct({job:t,listId:r,protoId:o,userId:n}){const[i,l]=h.exports.useState(!1),[d,p]=h.exports.useState(t.isComplete),a=A(),m=()=>{l(!i)},f=async()=>{try{p(!d);const g=await O.toggleJobComplete(r,{protoId:o,jobId:t._id,isComplete:!d}),C=g.activeProtos.find(L=>L._id===o);a(ie(C)),a(B(g));const k=await q.updateStatsJobsCompleted(n,{title:t.title,isComplete:!d})}catch(g){console.log("In toggleJobComplete",g)}},v=async()=>{try{const g=await O.deleteJob(r,{protoId:o,jobId:t._id}),C=g.activeProtos.find(k=>k._id===o);a(ie(C)),a(B(g))}catch(g){console.log("In deleteJob",g)}},b=`
    rgba(${t.cardColor.r},
    ${t.cardColor.g},
    ${t.cardColor.b},
    ${t.cardColor.a})`;return e(I,{sx:{borderRadius:"5px",background:`rgba(
          ${t.cardColor.r}, 
          ${t.cardColor.g}, 
          ${t.cardColor.b},
          0.3)`},children:s(w,{sx:{padding:1,cursor:"pointer",opacity:d?.4:null,position:"relative",overflow:"hidden","&:hover":{"& .jobBackGround":{transform:"scale(10)"}}},children:[e("div",{style:{height:"128px",width:"128px",background:b||"#000",zIndex:"1",position:"absolute",top:"-75px",left:"-75px",borderRadius:"75%",transition:"all 1s ease-in-out"},className:"jobBackGround"}),s(u,{container:!0,height:"100%",alignItems:"center",children:[s(u,{item:!0,xs:10,zIndex:1,children:[e(u,{item:!0,children:e(x,{fontWeight:700,sx:{textDecoration:d?"line-through 2px black":null},children:t.title})}),s(u,{container:!0,item:!0,direction:"row",maxWidth:"90%",justifyContent:"space-evenly",marginTop:1,children:[e(x,{variant:"caption",sx:{"&:hover":{color:"red"}},onClick:v,children:"Delete"}),e(x,{variant:"caption",children:"Reset"}),d?e(x,{variant:"caption",onClick:f,sx:{"&:hover":{color:"red"}},children:"Incomplete"}):e(x,{variant:"caption",onClick:f,sx:{"&:hover":{color:"green"}},children:"Complete"})]})]}),s(u,{container:!0,item:!0,justifyContent:"flex-end",xs:2,gap:1,zIndex:1,children:[i?e(lt,{fontSize:"medium",onClick:m,sx:{color:"red"}}):e(ye,{fontSize:"medium",onClick:m}),e(X,{jobTimer:t.timer,timerState:i})]})]})]})})}ct.propTypes={job:c.exports.shape({_id:c.exports.string,title:c.exports.string,description:c.exports.string,isComplete:c.exports.bool,isHidden:c.exports.bool,timer:c.exports.number}).isRequired,listId:c.exports.string.isRequired,protoId:c.exports.string.isRequired};function dt({proto:t}){const r=$(a=>a.activeProtos),o=t.jobs.length,n=t.jobs.filter(a=>a.isComplete),[i,l]=h.exports.useState(n.length===o),d=$(a=>a.userAuth);h.exports.useEffect(()=>{l(n.length===o)},[n.length]);const p=t.jobs.map(a=>e(ct,{job:a,listId:r._id,protoId:t._id,userId:d.id},a._id));return s(w,{display:"flex",flexDirection:"column",gap:.5,sx:{width:{xs:"calc(100vw - 32px)",sm:"360px"}},children:[e(me,{protoTitle:t.title,protoDescription:t.description,protoId:t._id,listId:r._id,isComplete:i}),s(Qt,{disableGutters:!0,children:[s(Zt,{expandIcon:e(ot,{}),"aria-controls":"The How",id:"proto-how",children:[s(x,{margin:"auto",variant:"caption",fontWeight:700,children:[n.length,"/",o]}),e(Yo,{totalJobCount:o,totalJobsComplete:n.length})]}),e(er,{sx:{overflowY:"auto",scrollbarWidth:"thin"},children:e(We,{spacing:1,sx:{maxHeight:"55vh"},children:p})})]})]},t._id)}dt.propTypes={proto:c.exports.shape({_id:c.exports.string.isRequired,user:c.exports.string.isRequired,title:c.exports.string.isRequired,description:c.exports.string,timeOfDay:c.exports.string,isComplete:c.exports.bool.isRequired,jobs:c.exports.oneOfType([c.exports.array])}).isRequired};var _e={},nn=y.exports;Object.defineProperty(_e,"__esModule",{value:!0});var ut=_e.default=void 0,an=nn(_()),sn=P,ln=(0,an.default)((0,sn.jsx)("path",{d:"M10 8H8v4H4v2h4v4h2v-4h4v-2h-4zm4.5-1.92V7.9l2.5-.5V18h2V5z"}),"PlusOne");ut=_e.default=ln;var Pe={},cn=y.exports;Object.defineProperty(Pe,"__esModule",{value:!0});var pt=Pe.default=void 0,dn=cn(_()),un=P,pn=(0,dn.default)((0,un.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");pt=Pe.default=pn;function ht({open:t,handleClose:r}){const o=$(l=>l.activeProtos),n=A();return e(H,{open:t,onClose:r,children:s(ae,{children:[e(x,{children:"This will clear all active Protos. Are you sure?"}),s(w,{display:"flex",justifyContent:"center",alignItems:"center",gap:5,children:[e(M,{onClick:async()=>{try{const l=await O.deleteActiveList(o._id,o.user);n(tt()),n(B(l))}catch(l){console.log("In delete/clear list",l)}},children:"Clear List"}),e(M,{onClick:r,children:"Cancel"})]})]})})}ht.propTypes={open:c.exports.bool.isRequired,handleClose:c.exports.func.isRequired};function ft({open:t,handleClose:r}){const[o,n]=h.exports.useState([]),i=$(a=>a.userProtos),l=$(a=>a.activeProtos),d=A();return e(H,{open:t,onClose:r,children:e(ae,{children:s(w,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:5,children:[e(Ne,{id:"grouped-demo",sx:{minWidth:{xs:300,md:500},padding:5},value:o,onChange:(a,m)=>{n(m)},multiple:!0,options:i,getOptionLabel:a=>a.title,renderInput:a=>e(R,{...a,label:"Protos"})}),e(M,{onClick:async()=>{if(!l)return console.log("No list currently active, please create one"),-1;try{const a=await O.addManyToActive(l._id,o);d(B(a))}catch(a){console.log("In add many to list",a)}return null},children:"Add"})]})})})}ft.propTypes={open:c.exports.bool.isRequired,handleClose:c.exports.func.isRequired};function hn(){const[t,r]=h.exports.useState(!1),[o,n]=h.exports.useState(!1),i=()=>{r(!0)},l=()=>{console.log("clear"),n(!0)},d=()=>{r(!1),n(!1)};return s(Y,{children:[e(tr,{ariaLabel:"SpeedDial basic example",sx:{position:"absolute",bottom:16,right:16},icon:e(rr,{}),children:[{icon:e(pt,{fontSize:"large"}),name:"Clear List",action:l},{icon:e(ut,{fontSize:"large"}),name:"Add Proto",action:i}].map(a=>e(or,{icon:a.icon,tooltipTitle:a.name,onClick:a.action},a.name))}),e(ft,{open:t,handleClose:d}),e(ht,{open:o,handleClose:d})]})}function fn({title:t,action:r}){const[o,n]=h.exports.useState(!1),i=()=>{n(!o)};return e("div",{className:` ${o?ne.activeProtoButtonSelected:ne.activeProtoButton}`,onClick:()=>{r(),i()},children:e("span",{style:{position:"relative",zIndex:3},children:t})})}function gn(){const t=$(p=>p.activeProtos),r=$(p=>p.userAuth),o=$(p=>p.displayedProtos),n=A();h.exports.useEffect(()=>{(async()=>{try{const a=await O.getActiveProtos(r.id);a&&n(B(a))}catch(a){console.log(a)}})()},[]);const i=(p,a)=>{const m=o.find(f=>f._id===a._id);n(m?et(a._id):Co(a))},l=t?t.activeProtos.map(p=>e(fn,{title:p.title,action:()=>i(event,p)},p._id)):null,d=o?o.map(p=>e(nr,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:e(u,{item:!0,children:e(dt,{proto:p})})},p._id)):null;return s(u,{container:!0,direction:"row",height:"calc(100% - 32px)",justifyContent:"center",children:[e(u,{item:!0,xs:12,children:e(Fe,{value:!1,variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,sx:{marginTop:1,marginBottom:1},children:l})}),o.length>0?e(u,{item:!0,xs:12,height:"inherit",sx:{overflowX:"auto"},children:e(w,{display:"flex",direction:"row",wrap:"nowrap",height:"100%",sx:{overflowX:"scroll"},spacing:1,gap:2,padding:1,children:d})}):e(x,{variant:"h6",children:`Hello ${r.username}, let's get to work.`}),e(hn,{})]})}var $e={},mn=y.exports;Object.defineProperty($e,"__esModule",{value:!0});var gt=$e.default=void 0,vn=mn(_()),xn=P,bn=(0,vn.default)((0,xn.jsx)("path",{d:"m16.9542 8.6615 2.1205-2.122 1.4147 1.4137-2.1205 2.122zM2 18h20v2H2zm9-14h2v3h-2zM3.5426 7.9248l1.4142-1.4142L7.078 8.632l-1.4142 1.4142zM5 16h14c0-3.87-3.13-7-7-7s-7 3.13-7 7z"}),"WbTwilight");gt=$e.default=bn;var we={},yn=y.exports;Object.defineProperty(we,"__esModule",{value:!0});var mt=we.default=void 0,Cn=yn(_()),Sn=P,_n=(0,Cn.default)((0,Sn.jsx)("path",{d:"m6.76 4.84-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7 1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91 1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}),"WbSunny");mt=we.default=_n;var ke={},Pn=y.exports;Object.defineProperty(ke,"__esModule",{value:!0});var vt=ke.default=void 0,$n=Pn(_()),wn=P,kn=(0,$n.default)((0,wn.jsx)("path",{d:"M14 2c1.82 0 3.53.5 5 1.35-2.99 1.73-5 4.95-5 8.65s2.01 6.92 5 8.65c-1.47.85-3.18 1.35-5 1.35-5.52 0-10-4.48-10-10S8.48 2 14 2z"}),"Nightlight");vt=ke.default=kn;var Re={},Rn=y.exports;Object.defineProperty(Re,"__esModule",{value:!0});var xt=Re.default=void 0,Tn=Rn(_()),An=P,Dn=(0,Tn.default)((0,An.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm6 10c0 3.31-2.69 6-6 6s-6-2.69-6-6h2c0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4v3L8 7l4-4v3c3.31 0 6 2.69 6 6z"}),"ReplayCircleFilled");xt=Re.default=Dn;function In({editorState:t,setEditorState:r}){const o=p=>{r(z.RichUtils.toggleBlockType(t,p))},n=p=>{r(z.RichUtils.toggleInlineStyle(t,p))},i=h.exports.useRef(null);function l(){i.current.focus()}const d="RichEditor-editor";return s("div",{className:"RichEditor-root",style:{marginTop:"20px"},children:[s("div",{style:{borderBottom:"1px solid #999",marginBottom:"5px"},children:[e(jn,{editorState:t,onToggle:o}),e(Bn,{editorState:t,onToggle:n})]}),e("div",{onClick:l,style:{padding:"0 10px",minHeight:"100px",cursor:"text"},children:e(z.Editor,{ref:i,className:d,editorState:t,onChange:r,placeholder:"Proto Description...",blockStyleFn:zn,customStyleMap:Mn})})]})}function zn(t){switch(t.getType()){case"blockquote":return"RichEditor-blockquote";case"code-block":return"RichEditor-codeblock";default:return null}}const Mn={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}},On=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}];function jn(t){const{editorState:r}=t,o=r.getSelection(),n=r.getCurrentContent().getBlockForKey(o.getStartKey()).getType();return e("div",{className:"RichEditor-controls",children:On.map(i=>e(bt,{active:i.style===n,label:i.label,onToggle:t.onToggle,style:i.style},i.label))})}function bt(t){const r=n=>{n.preventDefault(),t.onToggle(t.style)};let o="RichEditor-styleButton";return t.active&&(o+=" RichEditor-activeButton"),e("span",{className:o,onMouseDown:r,children:t.label})}const Ln=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}];function Bn(t){const r=t.editorState.getCurrentInlineStyle();return e("div",{className:"RichEditor-controls",style:{marginBottom:10},children:Ln.map(o=>e(bt,{active:r.has(o.style),label:o.label,onToggle:t.onToggle,style:o.style},o.label))})}function Te({setProtoTitle:t,protoTitle:r,handleTimeOfDay:o,protoTimeOfDay:n,editorState:i,setEditorState:l}){return s(I,{sx:{textAlign:"center",border:"1px solid black"},children:[s(w,{children:[e(R,{id:"proto-title",label:"Proto Title...",value:r,onChange:d=>t(d.target.value),fullWidth:!0}),e(In,{editorState:i,setEditorState:l})]}),s(ir,{value:n,exclusive:!0,onChange:o,"aria-label":"text alignment",size:"small",sx:{marginTop:2,marginBottom:2},children:[e(W,{value:0,"aria-label":"morning",children:e(E,{title:"Morning",placement:"top-end",children:e(gt,{sx:{color:"#ffd600"}})})}),e(W,{value:1,"aria-label":"afternoon",children:e(E,{title:"Afternoon",placement:"top-end",children:e(mt,{sx:{color:"orange"}})})}),e(W,{value:2,"aria-label":"evening",children:e(E,{title:"Evening",placement:"top-end",children:e(vt,{sx:{color:"darkblue"}})})}),e(W,{value:3,"aria-label":"continuous",children:e(E,{title:"Continuous",placement:"top-end",children:e(xt,{sx:{color:"green"}})})})]})]})}Te.defaultProps={protoTimeOfDay:""};Te.propTypes={setProtoTitle:c.exports.func.isRequired,protoTitle:c.exports.string.isRequired,handleTimeOfDay:c.exports.func.isRequired,protoTimeOfDay:c.exports.string,setEditorState:c.exports.func.isRequired};var Ae={},qn=y.exports;Object.defineProperty(Ae,"__esModule",{value:!0});var yt=Ae.default=void 0,En=qn(_()),Un=P,Hn=(0,En.default)((0,Un.jsx)("path",{d:"m17.66 5.41.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19 5 17.08l8.06-8.06 1.92 1.92L6.92 19z"}),"ColorizeOutlined");yt=Ae.default=Hn;function Ct({displayColorPicker:t,changeColor:r,color:o}){const n=Sr({default:{popover:{position:"absolute",zIndex:"2",bottom:10,left:-220},box:{position:"relative"}}});return e("div",{children:t&&e("div",{style:n.box,children:e("div",{style:n.popover,children:e(_r,{width:"220px",triangle:"hide",color:o,onChangeComplete:r})})})})}Ct.propTypes={displayColorPicker:c.exports.bool.isRequired,changeColor:c.exports.func.isRequired};function St({setNewProtoJobs:t,cardColor:r,setColor:o}){const[n,i]=h.exports.useState(""),[l,d]=h.exports.useState(""),[p,a]=h.exports.useState(0),[m,f]=h.exports.useState(!1),v=()=>{f(!m)},b=(k,L)=>{o(k.rgb)},g=()=>{i(""),d(""),a(""),f(!1),o({r:"255",g:"255",b:"255",a:"0"})},C=()=>{const k={title:n,description:l,timer:p,cardColor:r,isComplete:!1,isHidden:!1};t(L=>[...L,k]),g()};return e(I,{sx:{display:"flex",gap:2,padding:2,background:`linear-gradient(135deg, rgba(${r.r}, ${r.g}, ${r.b}, ${r.a}), rgba(255,255,255) 20%)`,marginTop:5,border:"1px solid black"},children:s(u,{container:!0,spacing:2,children:[s(u,{item:!0,xs:12,md:10,children:[e(R,{id:"standard-basic",label:"Job Title",value:n,fullWidth:!0,onChange:k=>i(k.target.value)}),e(R,{id:"standard-basic",label:"Job Description",multiline:!0,fullWidth:!0,value:l,onChange:k=>d(k.target.value),sx:{marginTop:2}})]}),e(u,{item:!0,xs:12,md:2,alignSelf:"flex-end",justifyContent:"flex-end",children:e(R,{type:"number",id:"standard-basic",label:"Timer",variant:"standard",value:p,onChange:k=>a(+k.target.value),sx:{maxWidth:100}})}),e(u,{item:!0,xs:10,children:s(w,{display:"flex",gap:2,children:[e(U,{title:"Add",action:C}),e(U,{title:"Clear",action:g,buttonType:"secondary"})]})}),e(u,{item:!0,xs:2,children:s(w,{display:"flex",justifyContent:"flex-end",children:[e(yt,{onClick:v,sx:{fontSize:"30px"}}),e(Ct,{displayColorPicker:m,changeColor:b,color:r})]})})]})})}St.propTypes={setNewProtoJobs:c.exports.func.isRequired,setColor:c.exports.func.isRequired};function _t({job:t,deleteJob:r}){const o=`rgba(
    ${t.cardColor.r}, 
    ${t.cardColor.g}, 
    ${t.cardColor.b}, 
    ${t.cardColor.a}
    )`;return e(I,{sx:{padding:1,background:`linear-gradient(135deg, ${o}, rgba(255,255,255) 20%)`,border:"1px solid black"},children:s(u,{container:!0,children:[e(u,{item:!0,xs:2,sm:1,display:"flex",alignItems:"center",children:e(ye,{fontSize:"large"})}),s(u,{container:!0,item:!0,xs:8,sm:10,direction:"column",gap:2,children:[e(w,{children:e(x,{sx:{fontWeight:"bold"},children:t.title})}),s(w,{display:"flex",gap:2,children:[e(x,{variant:"caption",fontWeight:500,sx:{color:"red",cursor:"pointer"},onClick:()=>r(t.title),children:"Delete"}),e(x,{variant:"caption",fontWeight:500,sx:{cursor:"not-allowed"},children:"Reset"}),e(x,{variant:"caption",fontWeight:500,sx:{cursor:"not-allowed"},children:"Complete"})]})]}),e(u,{item:!0,xs:2,sm:1,children:s(w,{display:"flex",flexDirection:"column",gap:1,alignItems:"flex-end",children:[e(E,{title:t.description,placement:"top-end",children:e(fe,{})}),e(X,{jobTimer:t.timer})]})})]})})}_t.propTypes={job:c.exports.shape({_id:c.exports.string,title:c.exports.string,description:c.exports.string,isComplete:c.exports.bool,isHidden:c.exports.bool,timer:c.exports.number}).isRequired,deleteJob:c.exports.func.isRequired};const De="/api/protos",Jn=async t=>(await S.get(`${De}/${t}`)).data,Nn=async(t,r)=>{const o={headers:{Authorization:`bearer ${r}`}};return(await S.post(`${De}`,t,o)).data},Wn=async({user:t,proto:r})=>await S.put(`${De}/${t}`,{proto:r}),Ie={getUserProtos:Jn,createNewProto:Nn,deleteUserProto:Wn},Pt=K({name:"userProtos",initialState:[],reducers:{setAllProtos(t,r){return r.payload},addFromBuild(t,r){return[...t,r.payload]},deleteUserProto(t,r){const o=r.payload;return t.filter(n=>n._id!==o)}}}),{setAllProtos:Fn,addFromBuild:Vn,deleteUserProto:Gn}=Pt.actions,Yn=t=>r=>{r(Fn(t))},Kn=t=>r=>{r(Vn(t))},Xn=t=>r=>{r(Gn(t))},Qn=Pt.reducer;function ze({open:t,handleCloseBuild:r}){const[o,n]=h.exports.useState(""),[i,l]=h.exports.useState(""),[d,p]=h.exports.useState(""),[a,m]=h.exports.useState([]),[f,v]=h.exports.useState(!1),b=A(),g=$(T=>T.userAuth),C=$(T=>T.activeProtos),[k,L]=h.exports.useState(()=>z.EditorState.createEmpty()),Q=JSON.stringify(z.convertToRaw(k.getCurrentContent())),[Rt,Tt]=h.exports.useState({r:"255",g:"255",b:"255",a:"1"}),At=(T,D)=>{p(D)},Dt=()=>{v(!f)},It=T=>{const D=a.filter(Mt=>Mt.title!==T);m(D)},zt=a.map(T=>e(_t,{job:T,deleteJob:It},T.title));return e(H,{open:t||!1,onClose:r,sx:{marginLeft:{xs:0,md:25}},children:e(u,{container:!0,sx:{padding:2},children:s(u,{item:!0,xs:12,children:[e(Te,{setProtoTitle:n,setProtoDescription:l,protoTitle:o,protoDescription:i,handleTimeOfDay:At,protoTimeOfDay:d,editorState:k,setEditorState:L}),e(We,{spacing:1,sx:{marginTop:5},children:zt}),e(St,{setNewProtoJobs:m,cardColor:Rt,setColor:Tt}),C&&e(ar,{sx:{marginTop:2},children:e(sr,{control:e(lr,{checked:f,onClick:Dt}),label:"Add Proto to active list"})}),e(w,{display:"flex",justifyContent:"center",marginTop:2,children:e(U,{title:"Create Proto",action:async()=>{if(!o)return console.log("Title required"),-1;const T={title:o,description:Q,timeOfDay:d,jobs:a};try{const D=await Ie.createNewProto(T,g.token);b(Kn(D)),n(""),l(""),p(""),m([]),L(()=>z.EditorState.createEmpty()),D&&f&&(await O.addOneToActive(C._id,D),b(qo(D)))}catch(D){console.log(D,"Proto already exists")}}})})]})})})}ze.defaultProps={open:void 0};ze.propTypes={open:c.exports.bool,handleCloseBuild:c.exports.func.isRequired};var Me={},Zn=y.exports;Object.defineProperty(Me,"__esModule",{value:!0});var $t=Me.default=void 0,ei=Zn(_()),ti=P,ri=(0,ei.default)((0,ti.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment");$t=Me.default=ri;var Oe={},oi=y.exports;Object.defineProperty(Oe,"__esModule",{value:!0});var wt=Oe.default=void 0,ni=oi(_()),ii=P,ai=(0,ni.default)((0,ii.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm3.3 14.71L11 12.41V7h2v4.59l3.71 3.71-1.42 1.41z"}),"AccessTimeFilled");wt=Oe.default=ai;function kt({proto:t,deleteProto:r}){return e(I,{style:{width:"360px",height:"100px",background:"#eeeeee"},children:s(u,{container:!0,height:"100%",justifyContent:"space-between",children:[e(u,{item:!0,xs:12,alignSelf:"center",marginLeft:2,children:e(x,{variant:"h5",fontWeight:700,children:t.title})}),s(u,{container:!0,item:!0,xs:12,alignSelf:"center",justifyContent:"space-between",marginLeft:2,marginRight:2,children:[s(u,{item:!0,children:[e($t,{sx:{marginRight:"16px"}}),e(wt,{})]}),s(u,{item:!0,children:[e(x,{variant:"caption",fontWeight:500,sx:{"&:hover":{color:"red"},cursor:"pointer"},children:"View"}),e(x,{variant:"caption",fontWeight:500,onClick:()=>r(t.title,t._id),sx:{"&:hover":{color:"red"},cursor:"pointer",marginLeft:5},children:"Delete"})]})]})]})})}kt.propTypes={title:c.exports.string.isRequired};function si(){const[t,r]=h.exports.useState(0),[o,n]=h.exports.useState(null),i=$(v=>v.userProtos),l=cr("(min-width:568px)"),d=$(v=>v.userAuth),p=A(),a=async(v,b)=>{try{await Ie.deleteUserProto({user:d.id,proto:v}),p(Xn(b))}catch(g){console.log("In library delete",g)}},m=(v,b)=>{r(b)},f=i?i.map(v=>{if(+v.timeOfDay===o)return e(kt,{proto:v,deleteProto:a},v._id)}):null;return s(u,{container:!0,marginTop:2,children:[e(u,{item:!0,xs:12,md:"auto",marginRight:{xs:0,md:2},marginBottom:2,children:s(Fe,{orientation:l?"vertical":"horizontal",variant:"scrollable",value:t,onChange:m,"aria-label":"Proto Catagory Selection",sx:{borderRight:1,borderColor:"divider"},children:[e(F,{label:"Morning",onClick:()=>n(0)}),e(F,{label:"Afternoon",onClick:()=>n(1)}),e(F,{label:"Evening",onClick:()=>n(2)}),e(F,{label:"All day",onClick:()=>n(3)})]})}),e(u,{container:!0,md:!0,item:!0,gap:2,alignContent:"flex-start",justifyContent:{xs:"center",md:"flex-start"},children:f})]})}function li(){const t=A(),r=$(d=>d.userAuth),[o,n]=h.exports.useState(),i=()=>{n(!o)},l=()=>{n(!1)};return h.exports.useEffect(()=>{(async()=>{try{if(r){const p=await Ie.getUserProtos(r.id);await q.checkUserStreak(r.id),t(Yn(p))}}catch(p){console.log("In App, get user protos",p)}})()},[r]),h.exports.useEffect(()=>{t(se(JSON.parse(window.localStorage.getItem("user")||null)))},[]),e(Et,{children:r?s(w,{sx:{display:"flex"},children:[e(dr,{}),s(Y,{children:[e(Qe,{handleOpenBuild:i}),e(ze,{open:o,handleCloseBuild:l}),e(ur,{maxWidth:"false",sx:{height:"100vh",overflowX:"hidden"},children:s(Ut,{children:[e(N,{path:"/",element:e(Po,{user:r})}),e(N,{path:"/active",element:e(gn,{})}),e(N,{path:"/Dashboard",element:e(oo,{})}),e(N,{path:"/Library",element:e(si,{})})]})})]})]}):e(Lr,{})})}const ci=pr({reducer:{userProtos:Qn,activeProtos:Eo,userAuth:jr,displayedProtos:So}}),di=t=>({palette:{mode:t,primary:{...t==="light"?{main:"rgba(0,0,0,1)"}:{main:"rgba(8,9,11,1)"}},background:{...t==="light"?{default:"rgba(255,255,255,1)",paper:"rgba(240,240,240,1)"}:{default:"rgba(31,32,34,1)",paper:"rgba(8,9,11,1)"}}},typography:{caption:{position:"relative",display:"inline-block",cursor:"pointer",transition:"all 0.5s ease-in-out","&::before":{content:'""',position:"absolute",left:"0px",bottom:"0px",width:"0%",height:"5%",borderBottom:"2px solid #000",transition:"all 0.3s ease-in-out"},"&:hover::before":{width:"100%"}}},components:{MuiContainer:{styleOverrides:{root:{padding:"56px 8px 0 8px","@media (min-width: 600px)":{padding:"56px 10px 0 10px"}}}},MuiTextField:{styleOverrides:{root:{"& label.Mui-focused":{color:"rgba(0,100,0,0.5)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0,0,0,0.5)"},"&:hover fieldset":{borderColor:"rgba(0,0,0,0.1)"},"&.Mui-focused fieldset":{borderColor:"rgba(0,100,0,0.5)"}}}}},MuiTabScrollButton:{styleOverrides:{root:{width:"10px",alignItems:"center"}}},MuiMobileStepper:{styleOverrides:{root:{background:"inherit",".MuiMobileStepper-progress":{width:"100%",height:"15px"},".MuiLinearProgress-bar":{background:"rgba(0,0,0,1)",transition:"transform 0.3s linear"},".MuiLinearProgress-colorPrimary":{background:"rgba(255,255,255, 1)"}}}},MuiListItemButton:{styleOverrides:{root:{transition:"all 0.5s ease-in-out","&::before":{content:'""',position:"absolute",left:"0px",bottom:"0px",width:"100%",height:"0%",borderRight:t==="light"?"5px solid #000":"5px solid #fff",transition:"all 0.3s ease-in-out"},"&:hover::before":{height:"100%"}}}}}}),ui=Lt(di("light"));re.createRoot(document.getElementById("root")).render(e(Ht.StrictMode,{children:e(Bt,{theme:ui,children:e(Jt,{store:ci,children:e(li,{})})})}));
